function bake_cookie(e,t,n){if(n)var s=new Date,i=new Date(+s+1e3*n);var o=[e,"=",t,"; ",n?"expires="+i.toString()+"; ":"","domain=.",window.location.host.toString(),"; path=/;"].join("");document.cookie=o}function read_cookie(e){var t=document.cookie.match(new RegExp(e+"=([^;]+)"));return t&&(t=t[1]),t}function delete_cookie(e){document.cookie=[e,"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/; domain=.",window.location.host.toString()].join("")}function getElementsByClassName(e,t){for(var n=[],s=new RegExp("(^| )"+t+"( |$)"),i=e.getElementsByTagName("*"),o=0,a=i.length;a>o;o++)s.test(i[o].className)&&n.push(i[o]);return n}function fnCallJSONP(e,t,n){var s=document.createElement("script");s.src=e+"?"+t+"&callback="+n,document.getElementsByTagName("body")[0].appendChild(s)}function add_favorite(e){title=document.title,url=document.location;try{window.external.AddFavorite(url,"–°–ª–æ–≤–∞—Ä–∏ –∏ —ç–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏–∏ –Ω–∞ –ê–∫–∞–¥–µ–º–∏–∫–µ: "+title)}catch(t){try{window.sidebar.addPanel("–°–ª–æ–≤–∞—Ä–∏ –∏ —ç–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏–∏ –Ω–∞ –ê–∫–∞–¥–µ–º–∏–∫–µ: "+title,url,"")}catch(t){if("object"==typeof opera)return e.rel="sidebar",e.title="–°–ª–æ–≤–∞—Ä–∏ –∏ —ç–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏–∏ –Ω–∞ –ê–∫–∞–¥–µ–º–∏–∫–µ: "+title,e.url=url,!0;alert("–ù–∞–∂–º–∏—Ç–µ Ctrl-D —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –∑–∞–∫–ª–∞–¥–∫–∏")}}return!1}function elementIterator(e,t,n,s){function i(){if(o)return null;var r=t;return t.childNodes&&t.childNodes.length&&!a?t=t[s?"lastChild":"firstChild"]:t[s?"previousSibling":"nextSibling"]?(t=t[s?"previousSibling":"nextSibling"],a=!1):t.parentNode&&(t=t.parentNode,t===e&&(o=!0),a=!0,i()),r===n&&(o=!0),r}s=!!s,t=t||e[s?"lastChild":"firstChild"];var o=!t,a=!1;return i}function extend(e){for(var t=1;t<arguments.length;t++)for(key in arguments[t])e[key]=arguments[t][key];return e}function trim(e){return(e||"").replace(/^\s+|\s+$/g,"")}function getCompiledStyle(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]),n}function textContent(e){return e.textContent||e.innerText}function parentWithClass(e,t){for(;e&&!hasClass(e,t);)e=e.parentNode;return e||null}function firstWithClass(e,t){for(var n=elementIterator(e),s=null;s=n();)if(1===s.nodeType&&hasClass(s,t))return s;return null}function lastWithClass(e,t){var n=byClassName(e,t);return n?n[n.length-1]:null}function firstTextNode(e){for(var t=elementIterator(e),n=null;n=t();)if(3===n.nodeType)return n;return n}function byClassName(e,t){if(e.getElementsByClassName)return e.getElementsByClassName(t);for(var n,s=[],i=elementIterator(e);n=i();)1==n.nodeType&&hasClass(n,t)&&s.push(n);return s}function textNodes(e){for(var t,n=[],s=elementIterator(e);t=s();)3===t.nodeType&&n.push(t);return n}function _classRegExp(e){return new RegExp("(^|\\s+)"+e+"(?:$|\\s+)","g")}function hasClass(e,t){var n=_classRegExp(t);return n.test(e.className)}function addClass(e,t){var n=_classRegExp(t);n.test(e.className)||(e.className=e.className+" "+t)}function removeClass(e,t){var n=_classRegExp(t);n.test(e.className)&&(e.className=trim(e.className.replace(n,"$1")))}function inArray(e,t){for(var n=0,s=t.length;s>n;n++)if(t[n]===e)return n;return-1}function addEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function preventDefault(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function stopEvent(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function getPageXY(e){if(null==e.pageX){var t=document.documentElement,n=document.body,s=e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t.clientLeft||0),i=e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t.clientTop||0);return{x:s,y:i}}return{x:e.pageX,y:e.pageY}}function ProcessTextWords(e){console.time("Text processing");for(var t,n="",s=0,i=0,o=0,a={" ":1,"¬†":1,"\n":1,"	":1,"\r":1,"\r\n":1,"\n\r":1,"!":1,"?":1,"¬°":1,"¬ø":1,"\\":1,"":1,";":1,".":1,"¬∑":1,",":1,"„ÄÇ":1,"„ÄÅ":1,"Ôºå":1,"ÔºÅ":1,"Ôºü":1,"Ôºõ":1,"Ôºö":1,"„Äê":1,"„Äë":1,"Ôºà":1,"Ôºâ":1,"„Äå":1,"„Äç":1,"ÔπÅ":1,"ÔπÇ":1,"„Äé":1,"„Äè":1,"‚Äú":1,"‚Äù":1,"‚Äò":1,"‚Äô":1,"‚Äß":1,"„Ää":1,"„Äã":1,"‚Äî":1,"ÔΩû":1,_:1,"Ôπè":1,"‚Äì":1,"@":1,"#":1,"¬§":1,"‚Ç≥":1,"‡∏ø":1,"‚Çµ":1,"¬¢":1,"‚Ç°":1,"‚Ç¢":1,$:1,"‚Ç´":1,"‚ÇØ":1,"‚Ç†":1,"‚Ç¨":1,"∆í":1,"‚Ç£":1,"‚Ç≤":1,"‚Ç¥":1,"‚Ç≠":1,"‚Ç∫":1,"‚Ñ≥":1,"‚Ç•":1,"‚Ç¶":1,"‚Çß":1,"‚Ç±":1,"‚Ç∞":1,"¬£":1,"·üõ":1,"‚Çπ":1,"‚Ç®":1,"‚Ç™":1,"‡ß≥":1,"‚Ç∏":1,"‚ÇÆ":1,"‚Ç©":1,"¬•":1,"%":1,"‚Ä∞":1,"‚Ä±":1,"‚àû":1,"^":1,"+":1,"=":1,"*":1,"-":1,"√∑":1,"—µ":1,"—ñ":1,"—≥":1,"‚ÜÇ":1,"∆Ü":1,"Œî":1,"ùç¨":1,"ùç≠":1,"ùç£":1,"ùç§":1,"ùç•":1,"ùç¶":1,"ùçß":1,"ùç®":1,"ùçØ":1,"ùçÆ":1,"ùç∞":1,"ùç±":1,"~":1,"‚âà":1,"¬±":1,"‚â†":1,"/":1,"[":1,"]":1,"(":1,")":1,"{":1,"}":1,"<":1,">":1,"&":1,"|":1,"¬π":1,"¬≤":1,"¬≥":1,"‚ÅÑ":1,"‚ÇÇ":1,"‚ÇÉ":1,"‚ÇÑ":1,"‚Üë":1,"‚Üê":1,"‚Üí":1,"‚Üì":1,"¬Æ":1,"‚Ñ¢":1,"‚Ñ†":1,"‚Ñó":1,"¬©":1,"¬ß":1,"¬∂":1,"¬∞":1,"√ó":1,"¬´":1,"¬ª":1,"‚Äû":1,"'":1,'"':1,"‚Ä¶":1,"Àò":1,"Àö":1,"Àù":1,"‚åò":1,"‚åÄ":1,"Ô£ø":1,"¬®":1,"¬∏":1,"Àá":1,"Àú":1,"‚Ä¢":1,"¬¥":1,"`":1,"‚ü®":1,"‚ü©":1,"‚Äí":1,"‚Äï":1,"‚Äê":1,"‚Ä†":1,"‚Ä°":1,"‚Ññ":1,"‚Ä≤":1,"‚Ä≥":1,"‚Ä¥":1,"‚Äñ":1,"¬¶":1,"‚ÅÇ":1,"‚ùß":1,"‚òû":1,"‚ÄΩ":1,"‚∏Æ":1,"‚óä":1,"‚Äª":1,"‚ÅÄ":1,"‚áí":1,"‚äÉ":1,"‚áî":1,"‚â°":1,"‚Üî":1,"¬¨":1,"‚à®":1,"‚àß":1,"«Ä":1,"‚äï":1,"‚äª":1,"‚ä§":1,"‚ä•":1,"‚àÄ":1,"‚àÉ":1,"‚ä¢":1,"‚ä®":1,"‚ä¨":1,"‚ä≠":1,"‚äß":1,"‚àµ":1,"‚à¥":1,"‚àÑ":1,"‚àÅ":1,"‚äº":1,"‚äΩ":1,"‚ãÑ":1,"‚óª":1,"‚ü°":1,"‚ü¢":1,"‚ü£":1,"‚ü§":1,"‚ü•":1,"‚•Ω":1,"◊Ü":1,"◊≥":1,"◊¥":1," ":1,"¬†":1,"	":1,"\n":1,"\r":1,"\r\n":1,"\n\r":1},r=0,l=e.length;l>r;r++)t=e[r],"<"==t?i=1:">"==t&&(i=0),"undefined"!=typeof a[t]?(o="&"==t?1:0,s&&(t="</span>"+t,s=0)):s||i||o||(t='<span class="w">'+t,s=1),n+=t;return console.timeEnd("Text processing"),n}function fnOpenShareMenu(e,t){nShareMenu.className="opened",nShareMenu.style.top=t+"px",nShareMenu.style.left=e+"px",fnSetShareMenuTimeout()}function fnSetShareMenuTimeout(){fnClearShareMenuTimeout(),iShareMenuTimeoutPid=setTimeout(function(){fnHideShareMenu()},1500)}function fnClearShareMenuTimeout(){clearTimeout(iShareMenuTimeoutPid)}function fnUpdateShareMenuLinks(){document.getElementById("share-directlink").href=document.location.href,document.getElementById("share-directlink").innerText=document.location.href,document.getElementById("share-directlink").textContent=document.location.href}function fnHideShareMenu(){nShareMenu.className="",clearTimeout(iShareMenuTimeoutPid)}function share(e){var t=encodeURIComponent(document.location.href),n=encodeURIComponent(document.title),s=encodeURIComponent("http://dic.academic.ru/images/Logo_social_"+Academic.sUserLanguage+".png?2"),i=626,o=436,a=1;switch(e){case"vk":url="http://vkontakte.ru/share.php?",url+="url="+t,url+="&image="+s;break;case"ok":url="http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1",url+="&st._surl="+t;break;case"fb":url="http://www.facebook.com/sharer.php?s=100",url+="&p[url]="+encodeURIComponent(t),url+="&p[images][0]="+s;break;case"tw":url="http://twitter.com/share?",url+="text="+n,url+="&url="+t;break;case"mail.ru":url="http://connect.mail.ru/share?",url+="url="+t,url+="&title="+n,url+="&imageurl="+s;break;case"lj":url="http://www.livejournal.com/update.bml?subject="+n+"&event="+n+"%20%E2%80%94%20"+t+"&transform=1",a=0;break;case"li":url="http://www.liveinternet.ru/journal_post.php?action=l_add&cnurl="+t+"&cntitle="+n,a=0;break;case"g+":url="https://plus.google.com/share?url="+t,i=600,o=600}window.open(url,"",a?"toolbar=0,status=0,width="+i+",height="+o:"")}top.location!=self.location&&(top.location=self.location),function(){var e=document.getElementById("search-box"),t=document.getElementById("search-query"),n=document.getElementById("dic-query"),s=document.getElementById("search-tabs"),i=document.getElementById("search-type"),o=getElementsByClassName(s,"active")[0];s.onclick=function(s){s=s||window.event;var a=s.target||s.srcElement;o.className="",o="li"==a.nodeName.toLowerCase()?a:a.parentNode,o.className="active";var r=o.getAttribute("data-search-type");i.value=r,e.className=1==r?"translate":-1==r?"dic":"",-1==r?n.focus():t.focus()}}(),function(){document.getElementById("translateFrom").onchange=function(){var e=document.getElementById("translateFrom"),t=e.value;bake_cookie("from",t,31536e3),fnCallJSONP(Academic.sTranslateDomainURL,"a=select2t&f="+t,"cbk")},document.getElementById("translateOf").onchange=function(){var e=document.getElementById("translateOf"),t=e.value;bake_cookie("to",t,31536e3)},cbk=function(e){var t=document.getElementById("translateOf");if(t.options.length)var n=t.value;else{var n=null;n=read_cookie(t.name),n||(n=Academic.sUserLanguage)}t.innerHTML=null;for(var s,i,o,a=0;a<e.results.length;a++)i=e.results[a].id,o=e.results[a].text,s=document.createElement("option"),s.setAttribute("value",i),n==i&&s.setAttribute("selected",!0),s.innerHTML=o,t.appendChild(s);s=null,i=null,o=null,t.onchange&&t.onchange()},document.getElementById("translate-arrow").children[0].onclick=function(){for(var e,t,n=document.getElementById("translateFrom"),s=document.getElementById("translateOf"),i=n.options[n.selectedIndex].value,o='<option value="'+i+'" selected>'+n.options[n.selectedIndex].innerHTML+"</option>",a=0,r=n.options.length;r>a;++a)if(n.options[a].value===s.value){e=a,t=s.value;break}return s.innerHTML=o,s.selectedIndex=0,s.value=i,n.selectedIndex=a,n.value=t,n.onchange(),!1}}(),"undefined"==typeof bsn&&(_b=bsn={}),"undefined"==typeof _b.Autosuggest?_b.Autosuggest={}:console.error("Autosuggest is already set!"),_b.AutoSuggest=function(e,t){if(!document.getElementById)return 0;if(this.fld=_b.DOM.gE(e),!this.fld)return 0;this.sInp="",this.nInpC=0,this.aSug=[],this.iHigh=0,this.initKeyLength=null,this.oP=t?t:{};var n,s={minchars:1,meth:"get",varname:"input",className:"autosuggest",timeout:2500,delay:500,offsety:-5,shownoresults:!0,noresults:"No results!",maxheight:250,cache:!0,maxentries:25,onload:null,limit:null};for(n in s)typeof this.oP[n]!=typeof s[n]&&null!=s[n]&&(this.oP[n]=s[n]);this.oP.limit&&(this.oP.limit=this.oP.limit-1);var i=this;this.fld.onkeypress=function(e){return i.onKeyPress(e)},this.fld.onkeyup=function(e){return i.onKeyUp(e)};var o=document.body,a=this;"undefined"!=typeof o.addEventListener?(o.addEventListener("keyup",function(e){27==e.keyCode&&a.hideSuggestions()},!1),o.addEventListener("click",function(e){var t=e.target;"dic-query"!=t.id&&a.hideSuggestions()},!1)):"undefined"!=typeof o.attachEvent&&(o.attachEvent("onkeyup",function(e){27==e.keyCode&&a.hideSuggestions()}),o.attachEvent("onclick",function(e){var t=e.srcElement;"dic-query"!=t.id&&a.hideSuggestions()})),this.fld.setAttribute("autocomplete","off")},_b.AutoSuggest.prototype.onKeyPress=function(e){var t=window.event?window.event.keyCode:e.keyCode,n=13,s=1;switch(t){case n:this.setHighlightedValue(),s=0}return s},_b.AutoSuggest.prototype.onKeyUp=function(e){var t=window.event?window.event.keyCode:e.keyCode,n=38,s=40,i=1;switch(t){case n:this.changeHighlight(t),i=0;break;case s:this.changeHighlight(t),this.showSuggestions(),i=0;break;default:this.getSuggestions(this.fld.value)}return i},_b.AutoSuggest.prototype.getSuggestions=function(e){if(e==this.sInp)return 0;if(_b.DOM.remE(this.idAs),this.sInp=e,e.length<this.oP.minchars)return this.aSug=[],this.nInpC=e.length,0;var t=this.nInpC;this.nInpC=e.length?e.length:0,(null==this.initKeyLength||0==t)&&(this.initKeyLength=this.nInpC);var n=this.aSug.length;if(this.nInpC>0&&this.nInpC<t&&this.nInpC>=this.initKeyLength||this.nInpC>t&&n&&n<this.oP.maxentries&&this.oP.cache){for(var s=[],i=0;n>i;i++)this.aSug[i].value.substr(0,e.length).toLowerCase()==e.toLowerCase()&&s.push(this.aSug[i]);this.createList(s)}var o=this,a=this.sInp;return clearTimeout(this.ajID),this.ajID=setTimeout(function(){o.doAjaxRequest(a)},this.oP.delay),this.nInpC<this.initKeyLength&&(this.initKeyLength=this.nInpC),!1},_b.AutoSuggest.prototype.doAjaxRequest=function(e){if(e!=this.fld.value)return!1;var t=this;if("function"==typeof this.oP.script)var n=this.oP.script(encodeURIComponent(this.sInp));else var n=this.oP.script+this.oP.varname+"="+encodeURIComponent(this.sInp);if(!n)return!1;var s=this.oP.meth,e=this.sInp,i=function(n){t.setSuggestions(n,e)},o=function(e){console.error("AJAX error: "+e)},a=new _b.Ajax;a.makeRequest(n,s,i,o)},_b.AutoSuggest.prototype.setSuggestions=function(req,input){if(input!=this.fld.value)return!1;if(this.aSug=[],this.oP.json)for(var jsondata=eval("("+req.responseText+")"),i=0;i<jsondata.results.length;i++)this.aSug.push({id:jsondata.results[i].id,value:jsondata.results[i].value,info:jsondata.results[i].info});else for(var xml=req.responseXML,results=xml.getElementsByTagName("results")[0].childNodes,i=0;i<results.length;i++)results[i].hasChildNodes()&&this.aSug.push({id:results[i].getAttribute("id"),value:results[i].childNodes[0].nodeValue,info:results[i].getAttribute("info")});this.idAs="as_"+this.fld.id,this.createList(this.aSug)},_b.AutoSuggest.prototype.createList=function(e){var t=this;if(_b.DOM.remE(this.idAs),this.killTimeout(),0==e.length&&!this.oP.shownoresults)return!1;for(var n=_b.DOM.cE("div",{id:this.idAs,className:this.oP.className}),s=_b.DOM.cE("ul",{id:"as_ul"}),i=0;i<e.length;i++){var o=e[i].value,a=o.toLowerCase().indexOf(this.sInp.toLowerCase()),r=o.substring(0,a)+"<em>"+o.substring(a,a+this.sInp.length)+"</em>"+o.substring(a+this.sInp.length),l=_b.DOM.cE("span",{},r,!0);if(""!=e[i].info){var u=_b.DOM.cE("br",{});l.appendChild(u);var c=_b.DOM.cE("small",{},e[i].info);l.appendChild(c)}var h=_b.DOM.cE("a",{href:"#"});h.appendChild(l),h.name=i+1,h.onclick=function(){return t.setHighlightedValue(),!1},h.onmouseover=function(){t.setHighlight(this.name)};var d=_b.DOM.cE("li",{},h);if(s.appendChild(d),null!=this.oP.limit&&i==this.oP.limit)break}if(0==e.length&&this.oP.shownoresults){var d=_b.DOM.cE("li",{className:"as_warning"},this.oP.noresults);s.appendChild(d)}n.appendChild(s);var f=_b.DOM.getPos(this.fld);n.style.left=f.x+"px",n.style.top=f.y+this.fld.offsetHeight+this.oP.offsety+"px",n.style.width=this.fld.offsetWidth+"px",document.getElementsByTagName("body")[0].appendChild(n),this.iHigh=0,null!=this.oP.onload&&this.oP.onload();var t=this},_b.AutoSuggest.prototype.changeHighlight=function(e){var t=_b.DOM.gE("as_ul");if(!t)return!1;var n;40==e?n=this.iHigh+1:38==e&&(n=this.iHigh-1),n>t.childNodes.length&&(n=t.childNodes.length),1>n&&(n=1),this.setHighlight(n)},_b.AutoSuggest.prototype.setHighlight=function(e){var t=_b.DOM.gE("as_ul");return t?(this.iHigh>0&&this.clearHighlight(),this.iHigh=Number(e),t.childNodes[this.iHigh-1].className="as_highlight",void this.killTimeout()):!1},_b.AutoSuggest.prototype.clearHighlight=function(){var e=_b.DOM.gE("as_ul");return e?void(this.iHigh>0&&(e.childNodes[this.iHigh-1].className="",this.iHigh=0)):!1},_b.AutoSuggest.prototype.setHighlightedValue=function(){this.iHigh&&(this.sInp=this.fld.value=this.aSug[this.iHigh-1].value,this.fld.focus(),this.fld.selectionStart&&this.fld.setSelectionRange(this.sInp.length,this.sInp.length),this.hideSuggestions(),"function"==typeof this.oP.callback&&this.oP.callback(this.aSug[this.iHigh-1]))},_b.AutoSuggest.prototype.killTimeout=function(){clearTimeout(this.toID)},_b.AutoSuggest.prototype.resetTimeout=function(){clearTimeout(this.toID);var e=this;this.toID=setTimeout(function(){e.hideSuggestions()},1e3)},_b.AutoSuggest.prototype.hideSuggestions=function(){this.killTimeout();var e=_b.DOM.gE(this.idAs);e.className=this.oP.className+" hidden"},_b.AutoSuggest.prototype.showSuggestions=function(){this.killTimeout();var e=_b.DOM.gE(this.idAs);e.className=this.oP.className},"undefined"==typeof _b.Ajax&&(_b.Ajax={}),_b.Ajax=function(){this.req={},this.isIE=!1},_b.Ajax.prototype.makeRequest=function(e,t,n,s){"POST"!=t&&(t="GET"),this.onComplete=n,this.onError=s;var i=this;window.XMLHttpRequest?(this.req=new XMLHttpRequest,this.req.onreadystatechange=function(){i.processReqChange()},this.req.open("GET",e,!0),this.req.send(null)):window.ActiveXObject&&(this.req=new ActiveXObject("Microsoft.XMLHTTP"),this.req&&(this.req.onreadystatechange=function(){i.processReqChange()},this.req.open(t,e,!0),this.req.send()))},_b.Ajax.prototype.processReqChange=function(){4==this.req.readyState&&(200==this.req.status?this.onComplete(this.req):this.onError(this.req.status))},"undefined"==typeof _b.DOM&&(_b.DOM={}),_b.DOM.cE=function(e,t,n,s){var i=document.createElement(e);if(!i)return 0;for(var o in t)i[o]=t[o];var a=typeof n;return"string"!=a||s?"string"==a&&s?i.innerHTML=n:"object"==a&&i.appendChild(n):i.appendChild(document.createTextNode(n)),i},_b.DOM.gE=function(e){var t=typeof e;if("undefined"==t)return 0;if("string"==t){var n=document.getElementById(e);return n&&"undefined"!=typeof n.appendChild?n:0}return"undefined"!=typeof e.appendChild?e:0},_b.DOM.remE=function(e){var t=this.gE(e);return t&&t.parentNode.removeChild(t)?!0:0},_b.DOM.getPos=function(e){var e=this.gE(e),t=e,n=0;if(t.offsetParent)for(;t.offsetParent;)n+=t.offsetLeft,t=t.offsetParent;else t.x&&(n+=t.x);var t=e,s=0;if(t.offsetParent)for(;t.offsetParent;)s+=t.offsetTop,t=t.offsetParent;else t.y&&(s+=t.y);return{x:n,y:s}},"undefined"==typeof _b.Fader&&(_b.Fader={}),_b.Fader=function(e,t,n,s,i){if(!e)return 0;this.e=e,this.from=t,this.to=n,this.cb=i,this.nDur=s,this.nInt=50,this.nTime=0;var o=this;this.nID=setInterval(function(){o._fade()},this.nInt)},_b.Fader.prototype._fade=function(){this.nTime+=this.nInt;var e=Math.round(100*this._tween(this.nTime,this.from,this.to,this.nDur)),t=e/100;if(this.e.filters)try{this.e.filters.item("DXImageTransform.Microsoft.Alpha").opacity=e}catch(n){this.e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")"}else this.e.style.opacity=t;this.nTime==this.nDur&&(clearInterval(this.nID),void 0!=this.cb&&this.cb())},_b.Fader.prototype._tween=function(e,t,n,s){return t+(n-t)*(e/s)};var options={script:"/seek4term.php?json=true&limit=20&did="+Academic.sDictionaryId+"&",varname:"q",json:!0,minchars:2,shownoresults:!0,offsety:-1,noresults:Academic.Lang.sTermNotFound,maxresults:20,callback:function(e){document.location.href=Academic.sDomainURL+e.id}},as_json=new bsn.AutoSuggest("dic-query",options);document.getElementById("m_s").href="mailto:support"+String.fromCharCode(64)+"academic.ru",document.getElementById("m_a").href="mailto:"+String.fromCharCode(65)+"dver"+String.fromCharCode(64)+"academic.ru",function(){var e=function(){};e.prototype={setHash:function(e){window.location.hash=e},getHash:function(){return window.location.hash},addHashchange:function(e){addEvent(window,"hashchange",e)}};var t=function(e){e=e||{},"select_message"in e&&(e.selectMessage=e.select_message),"enable_haschange"in e&&(e.enableHaschange=e.enable_haschange),"is_block"in e&&(e.isBlock=e.is_block),this.options=extend({},t.defaultOptions,e),extend(this,{counter:0,savedSel:[],ranges:{},childs:[],blocks:{}}),this.init()};t.version="22.05.2012-12:08:33",t.LocationHandler=e,t.defaultOptions={regexp:"[^\\s,;:‚Äì.!?<>‚Ä¶\\n¬†\\*]+",selectable:"selectable-content",marker:"txtselect_marker",ignored:null,selectMessage:null,location:new e,validate:!1,enableHaschange:!0,onMark:null,onUnmark:null,onHashRead:function(){var e=firstWithClass(this.selectable,"user_selection_true");e&&!this.hashWasRead&&(this.hashWasRead=!0,window.setTimeout(function(){for(var t=0,n=0;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;window.scrollTo(t,n-150)},1))},isBlock:function(e){return"BR"==e.nodeName||-1==inArray(getCompiledStyle(e,"display"),["inline","none"])}},t.prototype={init:function(){function e(e){preventDefault(e),stopEvent(e);var n=e.target||e.srcElement;if((!hasClass(this,"masha-marker-bar")||hasClass(n,"masha-social")||hasClass(n,"masha-marker"))&&(removeClass(t.marker,"show"),t.rangeIsSelectable()&&(t.addSelection(),t.updateHash(),t.options.onMark&&t.options.onMark.call(t),t.options.selectMessage&&t._showMessage(),hasClass(n,"masha-social")))){var s=n.getAttribute("data-pattern");if(s){var i=s.replace("{url}",encodeURIComponent(window.location.toString()));t.openShareWindow(i)}}}if(this.selectable="string"==typeof this.options.selectable?document.getElementById(this.options.selectable):this.options.selectable,"string"==typeof this.options.marker?(this.marker=document.getElementById(this.options.marker),null===this.marker&&(this.marker=document.createElement("a"),this.marker.setAttribute("id",this.options.marker),this.marker.setAttribute("href","#"),document.body.appendChild(this.marker))):this.marker=this.options.marker,"string"!=typeof this.options.regexp)throw"regexp is set as string";this.regexp=new RegExp(this.options.regexp,"ig");var t=this;if(this.selectable){this.isIgnored=this.constructIgnored(this.options.ignored),this.options.selectMessage&&this.initMessage(),this.enumerateElements();var n="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;n?addEvent(this.selectable,"touchend",function(){window.setTimeout(function(){var e=window.getSelection();if(e.rangeCount){var n=e.getRangeAt(0).getClientRects(),s=n[n.length-1];if(s)var i={x:s.left+s.width+document.body.scrollLeft,y:s.top+s.height/2+document.body.scrollTop};t.showMarker(i)}},1)}):addEvent(this.selectable,"mouseup",function(e){var n=getPageXY(e);window.setTimeout(function(){t.showMarker(n)},1)}),addEvent(this.marker,"click",e),addEvent(this.marker,"touchend",e),addEvent(document,"click",function(e){var n=e.target||e.srcElement;n!=t.marker&&removeClass(t.marker,"show")}),this.options.enableHaschange&&this.options.location.addHashchange(function(){if(t.lastHash!=t.options.location.getHash()){var e=[];for(var n in t.ranges)e.push(n);t.deleteSelections(e),t.readHash()}}),this.readHash()}},openShareWindow:function(e){window.open(e,"","status=no,toolbar=no,menubar=no,width=800,height=400")},getMarkerCoords:function(e,t){return{x:t.x+5,y:t.y-33}},getPositionChecksum:function(e){for(var t="",n=0;3>n;n++){var s=(e()||"").charAt(0);if(s){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",o=s.charCodeAt(0)%i.length;s=i.charAt(o)}t+=s}return t},showMarker:function(e){var t=new RegExp(this.options.regexp,"g"),n=window.getSelection().toString();if(""!=n&&t.test(n)&&this.rangeIsSelectable()){var s=this.getMarkerCoords(this.marker,e);this.marker.style.top=s.y+"px",this.marker.style.left=s.x+"px",addClass(this.marker,"show")}},deleteSelections:function(e){for(var t=e.length;t--;){var n=e[t],s=byClassName(this.selectable,n),i=firstWithClass(s[s.length-1],"closewrap");i.parentNode.removeChild(i),this.removeTextSelection(s),delete this.ranges[n]}},removeTextSelection:function(e){for(var t=e.length;t--;){for(var n=e[t],s=0;s<n.childNodes.length;s++)n.parentNode.insertBefore(n.childNodes[s],n);n.parentNode.removeChild(n)}},isInternal:function(e){for(;e.parentNode;){if(e==this.selectable)return!0;e=e.parentNode}return!1},_siblingNode:function(e,t,n,s,i){for(i=i||this.regexp;e.parentNode&&this.isInternal(e);){for(;e[t+"Sibling"];){for(e=e[t+"Sibling"];1==e.nodeType&&e.childNodes.length;)e=e[n+"Child"];if(3==e.nodeType&&null!=e.data.match(i))return{_container:e,_offset:s*e.data.length}}e=e.parentNode}return null},prevNode:function(e,t){return this._siblingNode(e,"previous","last",1,t)},nextNode:function(e,t){return this._siblingNode(e,"next","first",0,t)},wordCount:function(e){var t=0;if(3==e.nodeType){var n=e.nodeValue.match(this.regexp);n&&(t+=n.length)}else if(e.childNodes&&e.childNodes.length){var s=textNodes(e);for(i=s.length;i--;)t+=s[i].nodeValue.match(this.regexp).length}return t},words:function(e,t,n){1==e.nodeType&&(e=firstTextNode(e));var s=e.data.substring(0,t).match(this.regexp);null!=s?("start"==n&&(s=s.length+1),"end"==n&&(s=s.length)):s=1;for(var i=e,o=this.getNum(e),a=this.getFirstTextNode(o);i&&i!=a;)i=this.prevNode(i,/.*/)._container,s+=this.wordCount(i);return o+":"+s},symbols:function(e){var t=0;if(3==e.nodeType)t=e.nodeValue.length;else if(e.childNodes&&e.childNodes.length)for(var n=textNodes(e),s=n.length;s--;)t+=n[s].nodeValue.length;return t},updateHash:function(){var e=[];for(key in this.ranges)e.push(this.ranges[key]);var t="#sel="+e.join(";");this.lastHash=t,this.options.location.setHash(t)},readHash:function(){var e=this.splittedHash();if(e){for(var t=0;t<e.length;t++)this.deserializeSelection(e[t]);this.updateHash(),this.options.onHashRead&&this.options.onHashRead.call(this)}},splittedHash:function(){var e=this.options.location.getHash();if(!e)return null;e=e.replace(/^#/,"").replace(/;+$/,"");return/^sel\=(?:\d+\:\d+(?:\:[^:;]*)?\,|%2C\d+\:\d+(?:\:[^:;]*)?;)*\d+\:\d+(?:\:[^:;]*)?\,|%2C\d+\:\d+(?:\:[^:;]*)?$/.test(e)?(e=e.substring(4,e.length),e.split(";")):null},deserializeSelection:function(e){var t=window.getSelection();t.rangeCount>0&&t.removeAllRanges();var n=this.deserializeRange(e);n&&this.addSelection(n)},deserializeRange:function(e){var t=/^([0-9A-Za-z:]+)(?:,|%2C)([0-9A-Za-z:]+)$/.exec(e),n=t[1].split(":"),s=t[2].split(":");if(parseInt(n[0],10)<parseInt(s[0],10)||n[0]==s[0]&&parseInt(n[1],10)<=parseInt(s[1],10)){var i=this.deserializePosition(n,"start"),o=this.deserializePosition(s,"end");if(i.node&&o.node){var a=document.createRange();if(a.setStart(i.node,i.offset),a.setEnd(o.node,o.offset),!this.options.validate||this.validateRange(a,n[2],s[2]))return a}}return window.console&&"function"==typeof window.console.warn&&window.console.warn("Cannot deserialize range: "+e),null},validateRange:function(e,t,n){var s,i=!0;return t&&(s=this.getPositionChecksum(e.getWordIterator(this.regexp)),i=i&&t==s),n&&(s=this.getPositionChecksum(e.getWordIterator(this.regexp,!0)),i=i&&n==s),i},getRangeChecksum:function(e){return sum1=this.getPositionChecksum(e.getWordIterator(this.regexp)),sum2=this.getPositionChecksum(e.getWordIterator(this.regexp,!0)),[sum1,sum2]},deserializePosition:function(e,t){for(var n,s=this.blocks[parseInt(e[0],10)],i=0;s;){for(var o=new RegExp(this.options.regexp,"ig");null!=(myArray=o.exec(s.data));)if(i++,i==e[1])return"start"==t&&(n=myArray.index),"end"==t&&(n=o.lastIndex),{node:s,offset:parseInt(n,10)};s=this.nextNode(s,/.*/),s=s?s._container:null,s&&this.isFirstTextNode(s)&&(s=null)}return{node:null,offset:0}},serializeRange:function(e){var t=this.words(e.startContainer,e.startOffset,"start"),n=this.words(e.endContainer,e.endOffset,"end");if(this.options.validate){var s=this.getRangeChecksum(e);t+=":"+s[0],n+=":"+s[1]}return t+","+n},checkSelection:function(e){return this.checkPosition(e,e.startOffset,e.startContainer,"start"),this.checkPosition(e,e.endOffset,e.endContainer,"end"),this.checkBrackets(e),this.checkSentence(e),e},checkPosition:function(e,t,n,s){function i(e){return null!=e.match(u.regexp)}function o(e){return null==e.match(u.regexp)}function a(e,t,n){for(;t>0&&n(e.data.charAt(t-1));)t--;return t}function r(e,t,n){for(;t<e.data.length&&n(e.data.charAt(t));)t++;return t}var l,u=this;if(1==n.nodeType&&t>0)if(t<n.childNodes.length)n=n.childNodes[t],t=0;else{var c=textNodes(n);c.length&&(n=c[c.length-1],t=n.data.length)}if("start"==s&&(1==n.nodeType&&""!=trim(textContent(n))&&(n=firstTextNode(n),t=0),(3!=n.nodeType||null==n.data.substring(t).match(this.regexp))&&(l=this.nextNode(n),n=l._container,t=l._offset),t=r(n,t,o),t=a(n,t,i),e.setStart(n,t)),"end"==s){if(1==n.nodeType&&""!=trim(textContent(n))&&0!=t){n=n.childNodes[e.endOffset-1];var c=textNodes(n);n=c[c.length-1],t=n.data.length}(3!=n.nodeType||null==n.data.substring(0,t).match(this.regexp))&&(l=this.prevNode(n),n=l._container,t=l._offset),t=a(n,t,o),t=r(n,t,i),e.setEnd(n,t)}},checkBrackets:function(e){this._checkBrackets(e,"(",")",/\(|\)/g,/\(x*\)/g),this._checkBrackets(e,"¬´","¬ª",/\\u00ab|\\u00bb/g,/\u00abx*\u00bb/g)},_checkBrackets:function(e,t,n,s,i){var o,a=e.toString(),r=a.match(s);if(r){r=r.join("");for(var l=r.length+1;r.length<l;)l=r.length,r=r.replace(i,"x");r.charAt(r.length-1)==n&&a.charAt(a.length-1)==n&&(1==e.endOffset?(o=this.prevNode(e.endContainer),e.setEnd(o.container,o.offset)):e.setEnd(e.endContainer,e.endOffset-1)),r.charAt(0)==t&&a.charAt(0)==t&&(e.startOffset==e.startContainer.data.length?(o=this.nextNode(e.endContainer),e.setStart(o.container,o.offset)):e.setStart(e.startContainer,e.startOffset+1))}},checkSentence:function(e){function t(){e.setEnd(n._container,n._offset+1)}var n,s;if(e.endOffset==e.endContainer.data.length){if(n=this.nextNode(e.endContainer,/.*/),!n)return null;s=n._container.data.charAt(0)}else n={_container:e.endContainer,_offset:e.endOffset},s=e.endContainer.data.charAt(e.endOffset);if(s.match(/\.|\?|\!/)){var i=e.toString();if(i.match(/(\.|\?|\!)\s+[A-Z\u0410-\u042f\u0401]/))return t();if(0==e.startOffset&&e.startContainer.previousSibling&&1==e.startContainer.previousSibling.nodeType&&"selection_index"==e.startContainer.previousSibling.className)return t();for(var o,a=e.getElementIterator();o=a();)if(1==o.nodeType&&"selection_index"==o.className)return t();if(i.charAt(0).match(/[A-Z\u0410-\u042f\u0401]/)){var r=e.startContainer.data.substring(0,e.startOffset);if(!r.match(/\S/)){var l=this.prevNode(e.startContainer,/\W*/);r=l._container.data}if(r=trim(r),r.charAt(r.length-1).match(/(\.|\?|\!)/))return t()}return null}},mergeSelections:function(e){var t=[],n=e.getElementIterator(),s=n(),i=s,o=parentWithClass(s,"user_selection_true");for(o&&(o=/(num\d+)(?:$| )/.exec(o.className)[1],e.setStart(firstTextNode(firstWithClass(this.selectable,o)),0),t.push(o));s;){if(1==s.nodeType&&hasClass(s,"user_selection_true")){var a=/(num\d+)(?:$|)/.exec(s.className)[0];-1==inArray(a,t)&&t.push(a)}i=s,s=n()}if(i=parentWithClass(i,"user_selection_true")){i=/(num\d+)(?:$| )/.exec(i.className)[1];var r=textNodes(lastWithClass(this.selectable,i)),l=r[r.length-1];e.setEnd(l,l.length)}if(t.length){var u=e.startContainer,c=e.startOffset,h=e.endContainer,d=e.endOffset;this.deleteSelections(t),e.setStart(u,c),e.setEnd(h,d)}return e},addSelection:function(e){e=e||this.getFirstRange(),e=this.checkSelection(e),e=this.mergeSelections(e);var t="num"+this.counter;this.ranges[t]=this.serializeRange(e),e.wrapSelection(t+" user_selection_true"),this.addSelectionEvents(t)},addSelectionEvents:function(e){for(var t=!1,n=this,s=byClassName(this.selectable,e),i=s.length;i--;)addEvent(s[i],"mouseover",function(){for(var e=s.length;e--;)addClass(s[e],"hover");window.clearTimeout(t)}),addEvent(s[i],"mouseout",function(e){for(var n=e.relatedTarget;n&&n.parentNode&&n.className!=this.className;)n=n.parentNode;n&&n.className==this.className||(t=window.setTimeout(function(){for(var e=s.length;e--;)removeClass(s[e],"hover")},2e3))});var o=document.createElement("a");o.className="txtsel_close",o.href="#";var a=document.createElement("span");a.className="closewrap",a.appendChild(o),addEvent(o,"click",function(t){preventDefault(t),n.deleteSelections([e]),n.updateHash(),n.options.onUnmark&&n.options.onUnmark.call(n)}),s[s.length-1].appendChild(a),this.counter++,window.getSelection().removeAllRanges()},getFirstRange:function(){var e=window.getSelection(),t=e.rangeCount?e.getRangeAt(0):null;return t},enumerateElements:function(){function e(n){for(var i=n.childNodes,o=!1,a=!1,r=0;r<i.length;++r){var l=i.item(r),u=l.nodeType;if(3!=u||l.nodeValue.match(s.regexp))if(3==u){if(!a){t.captureCount++;var c=document.createElement("span");c.id="selection_index"+t.captureCount,c.className="selection_index",l.parentNode.insertBefore(c,l),r++,s.blocks[t.captureCount]=l,o=a=!0}}else if(1==u&&!s.isIgnored(l)){var h=s.options.isBlock(l);if(h){var d=e(l);o=o||d,a=!1}else a||(a=e(l),o=o||a)}}return o}var n=this.selectable;t.captureCount=t.captureCount||0;var s=this;e(n)},isFirstTextNode:function(e){for(var t=[e.previousSibling,e.parentNode.previousSibling],n=t.length;n--;)if(t[n]&&1==t[n].nodeType&&"selection_index"==t[n].className)return!0;return!1},getFirstTextNode:function(e){if(!e)return null;var t=document.getElementById("selection_index"+e);return t?1==t.nextSibling.nodeType?t.nextSibling.childNodes[0]:t.nextSibling:null},getNum:function(e){for(;e.parentNode;){for(;e.previousSibling;){for(e=e.previousSibling;1==e.nodeType&&e.childNodes.length;)e=e.lastChild;if(1==e.nodeType&&"selection_index"==e.className)return e.id.replace("selection_index","")}e=e.parentNode}return null},constructIgnored:function(e){if("function"==typeof e)return e;if("string"==typeof e){for(var t=[],n=[],s=[],i=e.split(","),o=0;o<i.length;o++){var a=trim(i[o]);"#"==a.charAt(0)?t.push(a.substr(1)):"."==a.charAt(0)?n.push(a.substr(1)):s.push(a)
}return function(e){var i;for(i=t.length;i--;)if(e.id==t[i])return!0;for(i=n.length;i--;)if(hasClass(e,n[i]))return!0;for(i=s.length;i--;)if(e.tagName==s[i].toUpperCase())return!0;return!1}}return function(){return!1}},rangeIsSelectable:function(){var e,t,n,s=!0,i=this.getFirstRange();if(!i)return!1;for(var o=i.getElementIterator();e=o();)if(3==e.nodeType&&null!=e.data.match(this.regexp)&&(t=t||e,n=e),e=s&&3==e.nodeType?e.parentNode:e,s=!1,1==e.nodeType){for(var a=e;a!=this.selectable&&a.parentNode;){if(this.isIgnored(a))return!1;a=a.parentNode}if(a!=this.selectable)return!1}var r=parentWithClass(t,"user_selection_true"),l=parentWithClass(n,"user_selection_true");if(r&&l){var u=/(?:^| )(num\d+)(?:$| )/;return u.exec(r.className)[1]!=u.exec(l.className)[1]}return!0},initMessage:function(){var e=this;this.msg="string"==typeof this.options.selectMessage?document.getElementById(this.options.selectMessage):this.options.selectMessage,this.close_button=this.getCloseButton(),this.msg_autoclose=null,addEvent(this.close_button,"click",function(t){preventDefault(t),e.hideMessage(),e.saveMessageClosed(),clearTimeout(e.msg_autoclose)})},showMessage:function(){addClass(this.msg,"show")},hideMessage:function(){removeClass(this.msg,"show")},getCloseButton:function(){return this.msg.getElementsByTagName("a")[0]},getMessageClosed:function(){return window.localStorage?!!localStorage.masha_warning:!!document.cookie.match(/(?:^|;)\s*masha-warning=/)},saveMessageClosed:function(){window.localStorage?localStorage.masha_warning="true":this.getMessageClosed()||(document.cookie+="; masha-warning=true")},_showMessage:function(){var e=this;this.getMessageClosed()||(this.showMessage(),clearTimeout(this.msg_autoclose),this.msg_autoclose=setTimeout(function(){e.hideMessage()},1e4))}};var n=window.Range||document.createRange().constructor;n.prototype.splitBoundaries=function(){var e=this.startContainer,t=this.startOffset,n=this.endContainer,s=this.endOffset,i=e===n;3==n.nodeType&&s<n.length&&n.splitText(s),3==e.nodeType&&t>0&&(e=e.splitText(t),i&&(s-=t,n=e),t=0),this.setStart(e,t),this.setEnd(n,s)},n.prototype.getTextNodes=function(){for(var e,t=this.getElementIterator(),n=[];e=t();)3==e.nodeType&&n.push(e);return n},n.prototype.getElementIterator=function(e){return e?elementIterator(null,this.endContainer,this.startContainer,!0):elementIterator(null,this.startContainer,this.endContainer)},n.prototype.getWordIterator=function(e,t){function n(){if(a!=r||l)t?r--:r++;else{do{do s=o();while(s&&3!=s.nodeType);l=!s,l||(value=s.nodeValue,s==u.endContainer&&(value=value.substr(0,u.endOffset)),s==u.startContainer&&(value=value.substr(u.startOffset)),i=value.match(e))}while(s&&!i);i&&(a=t?0:i.length-1,r=t?i.length-1:0)}return l?null:i[r]}var s,i,o=this.getElementIterator(t),a=0,r=0,l=!1,u=this;return n},n.prototype.wrapSelection=function(e){this.splitBoundaries();for(var t=this.getTextNodes(),n=t.length;n--;){var s=document.createElement("span");s.className=e,t[n].parentNode.insertBefore(s,t[n]),s.appendChild(t[n])}};var s=function(e){this.prefix=e};s.prototype={setHash:function(e){e=e.replace("sel",this.prefix).replace(/^#/,""),e.length==this.prefix.length+1&&(e="");{var t=this.getHashPart();window.location.hash.replace(/^#\|?/,"")}if(t)var n=window.location.hash.replace(t,e);else var n=window.location.hash+"|"+e;n="#"+n.replace("||","").replace(/^#?\|?|\|$/g,""),window.location.hash=n},addHashchange:t.LocationHandler.prototype.addHashchange,getHashPart:function(){for(var e=window.location.hash.replace(/^#\|?/,"").split(/\||%7C/),t=0;t<e.length;t++)if(e[t].substr(0,this.prefix.length+1)==this.prefix+"=")return e[t];return""},getHash:function(){return this.getHashPart().replace(this.prefix,"sel")}};var o=function(e,n,i){n=n||function(e){return e.id};for(var o=0;o<e.length;o++){var a=e[o],r=n(a);if(r){var l=extend({},i||{},{selectable:a,location:new s(r)});new t(l)}}};window.MaSha=t,window.jQuery&&(window.jQuery.fn.masha=function(e){return e=e||{},e=extend({selectable:this[0]},e),new t(e)}),window.MultiMaSha=o}(),nArticle=document.getElementById("article"),nContextMenu=document.getElementById("contextmenu"),nContextSuggestions=document.getElementById("context-suggestions"),null!==nContextMenu&&window.innerWidth>767&&window.innerHeight>414&&"undefined"!=typeof nContextMenu.addEventListener&&("undefined"!=typeof nArticle&&(nArticle.innerHTML=ProcessTextWords(nArticle.innerHTML)),document.body.addEventListener("mouseup",function(e){1==e.which&&("contextmenu"!=e.target.id&&(nContextMenu.className="",nArticle.className=""),"sharemenu"!=e.target.id&&fnHideShareMenu())}),nArticle.onmouseup=function(e){if(1==e.which){if("opened"==nContextMenu.className)return nContextMenu.className="",void(nArticle.className="");var t=window.getSelection();if(t.rangeCount){var n=t.getRangeAt(0);if(n.collapsed){for(var s=t.anchorNode;0!=n.toString().indexOf(" ")&&n.startOffset;)n.setStart(s,n.startOffset-1);0==n.toString().indexOf(" ")&&n.setStart(s,n.startOffset+1);do n.setEnd(s,n.endOffset+1);while(-1==n.toString().indexOf(" ")&&""!=n.toString().trim()&&n.endOffset<s.textContent.length);n.endOffset<s.textContent.length&&n.setEnd(s,n.endOffset-1)}if(n.toString().length&&(nContextMenu.style.top=e.layerY+16+"px",nContextMenu.style.left=e.layerX-16+"px",nContextSuggestions.innerHTML="",nContextMenu.className="opened",nArticle.className="context-menu-is-opened",fnHideShareMenu(),n.toString().length<=32)){var o=function(e){var t=JSON.parse(e.responseText),n="";for(i in t)n+='<li class="word context-suggestion">',n+='<a target="_blank" href="'+t[i][4]+'">',n+="<span>"+t[i][3]+"</span>",n+="<small>"+t[i][2]+"</small>",n+="</a>",n+="</li>";nContextSuggestions.innerHTML=n},a=new _b.Ajax;a.makeRequest("/pickup.php?term="+encodeURIComponent(n.toString())+"&count=10","get",o)}window.getSelection().addRange(n),e.stopPropagation()}}},nContextMenu.onmousedown=function(e){1==e.which&&(e.preventDefault(),e.stopPropagation())},nContextMenu.onmouseup=function(e){1==e.which&&(e.preventDefault(),e.stopPropagation())},nContextMenu.onclick=function(e){if(1==e.which&&"A"==e.target.nodeName){var t=e.target.getAttribute("data-in"),n=window.getSelection().toString(),s=window.getSelection().getRangeAt(0);switch(t){case"mark":case"share":case"masha":var i=s.getClientRects(),o=i[0].left,a=i[0].top;nContextMenu.className="",nArticle.className="",document.getElementById("txtselect_marker").click(),fnOpenShareMenu(o-document.getElementById("page").offsetLeft,a+(document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0));break;case"academic":window.open(Academic.sMainDomainURL+"searchall.php?SWord="+encodeURIComponent(n)+"&stype=0");break;case"translate":window.open(Academic.sTranslateDomainURL+encodeURIComponent(n)+"/"+Academic.sUserLanguage+"/");break;case"internet":window.open("ru"==Academic.sUserLanguage?Academic.sMainDomainURL+"jump.php?j="+encodeURIComponent("yandex.ru/yandsearch?text="+encodeURIComponent(n)):Academic.sMainDomainURL+"jump.php?j="+encodeURIComponent("www.google.ru/search?q="+encodeURIComponent(n)))}"undefined"!=typeof t&&null!=t&&e.preventDefault()}},oMashaOptions={onMark:function(){fnUpdateShareMenuLinks()},onUnmark:function(){fnUpdateShareMenuLinks(),fnHideShareMenu()}},nShareMenu=document.getElementById("sharemenu"),iShareMenuTimeoutPid=0,nShareMenu.onmouseover=function(){fnClearShareMenuTimeout()},nShareMenu.onmouseout=function(){fnSetShareMenuTimeout()},nArticle.addEventListener("mouseover",function(e){if(hasClass(e.target,"user_selection_true")&&"context-menu-is-opened"!=this.className){var t=e.target.className.match(/\bnum\d+\b/);if(null!==t){var n=firstWithClass(nArticle,t);n.offsetLeft>90&&e.target.offsetTop>n.offsetTop?fnOpenShareMenu(15,n.offsetTop+22):fnOpenShareMenu(n.offsetLeft,n.offsetTop),fnClearShareMenuTimeout()}}}),nArticle.addEventListener("mouseout",function(e){hasClass(e.target,"user_selection_true")&&fnSetShareMenuTimeout()}),MaSha.instance=new MaSha(oMashaOptions),fnUpdateShareMenuLinks());var soundLibary={};onSoundClick=function(e){var t=new TSOUND(e);return t},TSOUND=function(e){return this.el=e,this.init(),this},TSOUND.prototype.init=function(){var e=this.el;if(1!=e.getAttribute("data-state")){if(0==e.getAttribute("data-state")){e.setAttribute("data-state",1),this.setClass("loading");var t=e.getAttribute("data-term");if(t.toLowerCase(),void 0!==soundLibary[t])e.setAttribute("data-state",2),e.setAttribute("data-file",soundLibary[t]),this.play();else{var n=e.getAttribute("data-term"),s=e.getAttribute("data-lang"),i=new _b.Ajax,o=this;i.makeRequest("/sound.php?w="+encodeURIComponent(n)+"&l="+encodeURIComponent(s),"GET",function(n){soundLibary[t]=n.responseText,e.setAttribute("data-state",2),e.setAttribute("data-file",n.responseText),o.play()},function(){o.setClass("error"),e.setAttribute("data-state",1)})}}2==e.getAttribute("data-state")&&this.play()}},TSOUND.prototype.setClass=function(e){this.el.className="sound "+e},TSOUND.prototype.play=function(){var e=this.el;this.setClass("playing");var t=new Audio("http://dic.academic.ru"+e.getAttribute("data-file")),n=this;t.addEventListener("ended",function(){e.setAttribute("data-state",2),n.setClass("stopped")},!1),e.setAttribute("data-state",1),t.play()};