(function(t){var e=typeof self=="object"&&self.self==self&&self||typeof global=="object"&&global.global==global&&global;if(typeof define==="function"&&define.amd){define(["underscore","jquery","exports"],function(i,r,n){e.Backbone=t(e,n,i,r)})}else if(typeof exports!=="undefined"){var i=require("underscore"),r;try{r=require("jquery")}catch(n){}t(e,exports,i,r)}else{e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}})(function(t,e,i,r){var n=t.Backbone;var s=Array.prototype.slice;e.VERSION="1.2.3";e.$=r;e.noConflict=function(){t.Backbone=n;return this};e.emulateHTTP=false;e.emulateJSON=false;var a=function(t,e,r){switch(t){case 1:return function(){return i[e](this[r])};case 2:return function(t){return i[e](this[r],t)};case 3:return function(t,n){return i[e](this[r],h(t,this),n)};case 4:return function(t,n,s){return i[e](this[r],h(t,this),n,s)};default:return function(){var t=s.call(arguments);t.unshift(this[r]);return i[e].apply(i,t)}}};var o=function(t,e,r){i.each(e,function(e,n){if(i[n])t.prototype[n]=a(e,n,r)})};var h=function(t,e){if(i.isFunction(t))return t;if(i.isObject(t)&&!e._isModel(t))return u(t);if(i.isString(t))return function(e){return e.get(t)};return t};var u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}};var l=e.Events={};var c=/\s+/;var f=function(t,e,r,n,s){var a=0,o;if(r&&typeof r==="object"){if(n!==void 0&&"context"in s&&s.context===void 0)s.context=n;for(o=i.keys(r);a<o.length;a++){e=f(t,e,o[a],r[o[a]],s)}}else if(r&&c.test(r)){for(o=r.split(c);a<o.length;a++){e=t(e,o[a],n,s)}}else{e=t(e,r,n,s)}return e};l.on=function(t,e,i){return d(this,t,e,i)};var d=function(t,e,i,r,n){t._events=f(v,t._events||{},e,i,{context:r,ctx:t,listening:n});if(n){var s=t._listeners||(t._listeners={});s[n.id]=n}return t};l.listenTo=function(t,e,r){if(!t)return this;var n=t._listenId||(t._listenId=i.uniqueId("l"));var s=this._listeningTo||(this._listeningTo={});var a=s[n];if(!a){var o=this._listenId||(this._listenId=i.uniqueId("l"));a=s[n]={obj:t,objId:n,id:o,listeningTo:s,count:0}}d(t,e,r,this,a);return this};var v=function(t,e,i,r){if(i){var n=t[e]||(t[e]=[]);var s=r.context,a=r.ctx,o=r.listening;if(o)o.count++;n.push({callback:i,context:s,ctx:s||a,listening:o})}return t};l.off=function(t,e,i){if(!this._events)return this;this._events=f(g,this._events,t,e,{context:i,listeners:this._listeners});return this};l.stopListening=function(t,e,r){var n=this._listeningTo;if(!n)return this;var s=t?[t._listenId]:i.keys(n);for(var a=0;a<s.length;a++){var o=n[s[a]];if(!o)break;o.obj.off(e,r,this)}if(i.isEmpty(n))this._listeningTo=void 0;return this};var g=function(t,e,r,n){if(!t)return;var s=0,a;var o=n.context,h=n.listeners;if(!e&&!r&&!o){var u=i.keys(h);for(;s<u.length;s++){a=h[u[s]];delete h[a.id];delete a.listeningTo[a.objId]}return}var l=e?[e]:i.keys(t);for(;s<l.length;s++){e=l[s];var c=t[e];if(!c)break;var f=[];for(var d=0;d<c.length;d++){var v=c[d];if(r&&r!==v.callback&&r!==v.callback._callback||o&&o!==v.context){f.push(v)}else{a=v.listening;if(a&&--a.count===0){delete h[a.id];delete a.listeningTo[a.objId]}}}if(f.length){t[e]=f}else{delete t[e]}}if(i.size(t))return t};l.once=function(t,e,r){var n=f(p,{},t,e,i.bind(this.off,this));return this.on(n,void 0,r)};l.listenToOnce=function(t,e,r){var n=f(p,{},e,r,i.bind(this.stopListening,this,t));return this.listenTo(t,n)};var p=function(t,e,r,n){if(r){var s=t[e]=i.once(function(){n(e,s);r.apply(this,arguments)});s._callback=r}return t};l.trigger=function(t){if(!this._events)return this;var e=Math.max(0,arguments.length-1);var i=Array(e);for(var r=0;r<e;r++)i[r]=arguments[r+1];f(m,this._events,t,void 0,i);return this};var m=function(t,e,i,r){if(t){var n=t[e];var s=t.all;if(n&&s)s=s.slice();if(n)_(n,r);if(s)_(s,[e].concat(r))}return t};var _=function(t,e){var i,r=-1,n=t.length,s=e[0],a=e[1],o=e[2];switch(e.length){case 0:while(++r<n)(i=t[r]).callback.call(i.ctx);return;case 1:while(++r<n)(i=t[r]).callback.call(i.ctx,s);return;case 2:while(++r<n)(i=t[r]).callback.call(i.ctx,s,a);return;case 3:while(++r<n)(i=t[r]).callback.call(i.ctx,s,a,o);return;default:while(++r<n)(i=t[r]).callback.apply(i.ctx,e);return}};l.bind=l.on;l.unbind=l.off;i.extend(e,l);var y=e.Model=function(t,e){var r=t||{};e||(e={});this.cid=i.uniqueId(this.cidPrefix);this.attributes={};if(e.collection)this.collection=e.collection;if(e.parse)r=this.parse(r,e)||{};r=i.defaults({},r,i.result(this,"defaults"));this.set(r,e);this.changed={};this.initialize.apply(this,arguments)};i.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return this.get(t)!=null},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(t==null)return this;var n;if(typeof t==="object"){n=t;r=e}else{(n={})[t]=e}r||(r={});if(!this._validate(n,r))return false;var s=r.unset;var a=r.silent;var o=[];var h=this._changing;this._changing=true;if(!h){this._previousAttributes=i.clone(this.attributes);this.changed={}}var u=this.attributes;var l=this.changed;var c=this._previousAttributes;for(var f in n){e=n[f];if(!i.isEqual(u[f],e))o.push(f);if(!i.isEqual(c[f],e)){l[f]=e}else{delete l[f]}s?delete u[f]:u[f]=e}this.id=this.get(this.idAttribute);if(!a){if(o.length)this._pending=r;for(var d=0;d<o.length;d++){this.trigger("change:"+o[d],this,u[o[d]],r)}}if(h)return this;if(!a){while(this._pending){r=this._pending;this._pending=false;this.trigger("change",this,r)}}this._pending=false;this._changing=false;return this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:true}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,i.extend({},t,{unset:true}))},hasChanged:function(t){if(t==null)return!i.isEmpty(this.changed);return i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):false;var e=this._changing?this._previousAttributes:this.attributes;var r={};for(var n in t){var s=t[n];if(i.isEqual(e[n],s))continue;r[n]=s}return i.size(r)?r:false},previous:function(t){if(t==null||!this._previousAttributes)return null;return this._previousAttributes[t]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:true},t);var e=this;var r=t.success;t.success=function(i){var n=t.parse?e.parse(i,t):i;if(!e.set(n,t))return false;if(r)r.call(t.context,e,i,t);e.trigger("sync",e,i,t)};z(this,t);return this.sync("read",this,t)},save:function(t,e,r){var n;if(t==null||typeof t==="object"){n=t;r=e}else{(n={})[t]=e}r=i.extend({validate:true,parse:true},r);var s=r.wait;if(n&&!s){if(!this.set(n,r))return false}else{if(!this._validate(n,r))return false}var a=this;var o=r.success;var h=this.attributes;r.success=function(t){a.attributes=h;var e=r.parse?a.parse(t,r):t;if(s)e=i.extend({},n,e);if(e&&!a.set(e,r))return false;if(o)o.call(r.context,a,t,r);a.trigger("sync",a,t,r)};z(this,r);if(n&&s)this.attributes=i.extend({},h,n);var u=this.isNew()?"create":r.patch?"patch":"update";if(u==="patch"&&!r.attrs)r.attrs=n;var l=this.sync(u,this,r);this.attributes=h;return l},destroy:function(t){t=t?i.clone(t):{};var e=this;var r=t.success;var n=t.wait;var s=function(){e.stopListening();e.trigger("destroy",e,e.collection,t)};t.success=function(i){if(n)s();if(r)r.call(t.context,e,i,t);if(!e.isNew())e.trigger("sync",e,i,t)};var a=false;if(this.isNew()){i.defer(t.success)}else{z(this,t);a=this.sync("delete",this,t)}if(!n)s();return a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.defaults({validate:true},t))},_validate:function(t,e){if(!e.validate||!this.validate)return true;t=i.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;if(!r)return true;this.trigger("invalid",this,r,i.extend(e,{validationError:r}));return false}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(y,b,"attributes");var x=e.Collection=function(t,e){e||(e={});if(e.model)this.model=e.model;if(e.comparator!==void 0)this.comparator=e.comparator;this._reset();this.initialize.apply(this,arguments);if(t)this.reset(t,i.extend({silent:true},e))};var w={add:true,remove:true,merge:true};var E={add:true,remove:false};var k=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var r=Array(t.length-i);var n=e.length;for(var s=0;s<r.length;s++)r[s]=t[s+i];for(s=0;s<n;s++)t[s+i]=e[s];for(s=0;s<r.length;s++)t[s+n+i]=r[s]};i.extend(x.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:false},e,E))},remove:function(t,e){e=i.extend({},e);var r=!i.isArray(t);t=r?[t]:i.clone(t);var n=this._removeModels(t,e);if(!e.silent&&n)this.trigger("update",this,e);return r?n[0]:n},set:function(t,e){if(t==null)return;e=i.defaults({},e,w);if(e.parse&&!this._isModel(t))t=this.parse(t,e);var r=!i.isArray(t);t=r?[t]:t.slice();var n=e.at;if(n!=null)n=+n;if(n<0)n+=this.length+1;var s=[];var a=[];var o=[];var h={};var u=e.add;var l=e.merge;var c=e.remove;var f=false;var d=this.comparator&&n==null&&e.sort!==false;var v=i.isString(this.comparator)?this.comparator:null;var g;for(var p=0;p<t.length;p++){g=t[p];var m=this.get(g);if(m){if(l&&g!==m){var _=this._isModel(g)?g.attributes:g;if(e.parse)_=m.parse(_,e);m.set(_,e);if(d&&!f)f=m.hasChanged(v)}if(!h[m.cid]){h[m.cid]=true;s.push(m)}t[p]=m}else if(u){g=t[p]=this._prepareModel(g,e);if(g){a.push(g);this._addReference(g,e);h[g.cid]=true;s.push(g)}}}if(c){for(p=0;p<this.length;p++){g=this.models[p];if(!h[g.cid])o.push(g)}if(o.length)this._removeModels(o,e)}var y=false;var b=!d&&u&&c;if(s.length&&b){y=this.length!=s.length||i.some(this.models,function(t,e){return t!==s[e]});this.models.length=0;k(this.models,s,0);this.length=this.models.length}else if(a.length){if(d)f=true;k(this.models,a,n==null?this.length:n);this.length=this.models.length}if(f)this.sort({silent:true});if(!e.silent){for(p=0;p<a.length;p++){if(n!=null)e.index=n+p;g=a[p];g.trigger("add",g,this,e)}if(f||y)this.trigger("sort",this,e);if(a.length||o.length)this.trigger("update",this,e)}return r?t[0]:t},reset:function(t,e){e=e?i.clone(e):{};for(var r=0;r<this.models.length;r++){this._removeReference(this.models[r],e)}e.previousModels=this.models;this._reset();t=this.add(t,i.extend({silent:true},e));if(!e.silent)this.trigger("reset",this,e);return t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(t==null)return void 0;var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]},at:function(t){if(t<0)t+=this.length;return this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,true)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;if(i.isFunction(e))e=i.bind(e,this);if(r===1||i.isString(e)){this.models=this.sortBy(e)}else{this.models.sort(e)}if(!t.silent)this.trigger("sort",this,t);return this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){t=i.extend({parse:true},t);var e=t.success;var r=this;t.success=function(i){var n=t.reset?"reset":"set";r[n](i,t);if(e)e.call(t.context,r,i,t);r.trigger("sync",r,i,t)};z(this,t);return this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var r=e.wait;t=this._prepareModel(t,e);if(!t)return false;if(!r)this.add(t,e);var n=this;var s=e.success;e.success=function(t,e,i){if(r)n.add(t,i);if(s)s.call(i.context,t,e,i)};t.save(null,e);return t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(t,e){if(this._isModel(t)){if(!t.collection)t.collection=this;return t}e=e?i.clone(e):{};e.collection=this;var r=new this.model(t,e);if(!r.validationError)return r;this.trigger("invalid",this,r.validationError,e);return false},_removeModels:function(t,e){var i=[];for(var r=0;r<t.length;r++){var n=this.get(t[r]);if(!n)continue;var s=this.indexOf(n);this.models.splice(s,1);this.length--;if(!e.silent){e.index=s;n.trigger("remove",n,this,e)}i.push(n);this._removeReference(n,e)}return i.length?i:false},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);if(i!=null)this._byId[i]=t;t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);if(i!=null)delete this._byId[i];if(this===t.collection)delete t.collection;t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,r){if((t==="add"||t==="remove")&&i!==this)return;if(t==="destroy")this.remove(e,r);if(t==="change"){var n=this.modelId(e.previousAttributes());var s=this.modelId(e.attributes);if(n!==s){if(n!=null)delete this._byId[n];if(s!=null)this._byId[s]=e}}this.trigger.apply(this,arguments)}});var S={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};o(x,S,"models");var I=e.View=function(t){this.cid=i.uniqueId("view");i.extend(this,i.pick(t,P));this._ensureElement();this.initialize.apply(this,arguments)};var T=/^(\S+)\s*(.*)$/;var P=["model","collection","el","id","attributes","className","tagName","events"];i.extend(I.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(t){this.undelegateEvents();this._setElement(t);this.delegateEvents();return this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t);this.el=this.$el[0]},delegateEvents:function(t){t||(t=i.result(this,"events"));if(!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(!i.isFunction(r))r=this[r];if(!r)continue;var n=e.match(T);this.delegate(n[1],n[2],i.bind(r,this))}return this},delegate:function(t,e,i){this.$el.on(t+".delegateEvents"+this.cid,e,i);return this},undelegateEvents:function(){if(this.$el)this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(t,e,i){this.$el.off(t+".delegateEvents"+this.cid,e,i);return this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(!this.el){var t=i.extend({},i.result(this,"attributes"));if(this.id)t.id=i.result(this,"id");if(this.className)t["class"]=i.result(this,"className");this.setElement(this._createElement(i.result(this,"tagName")));this._setAttributes(t)}else{this.setElement(i.result(this,"el"))}},_setAttributes:function(t){this.$el.attr(t)}});e.sync=function(t,r,n){var s=H[t];i.defaults(n||(n={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:s,dataType:"json"};if(!n.url){a.url=i.result(r,"url")||F()}if(n.data==null&&r&&(t==="create"||t==="update"||t==="patch")){a.contentType="application/json";a.data=JSON.stringify(n.attrs||r.toJSON(n))}if(n.emulateJSON){a.contentType="application/x-www-form-urlencoded";a.data=a.data?{model:a.data}:{}}if(n.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){a.type="POST";if(n.emulateJSON)a.data._method=s;var o=n.beforeSend;n.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",s);if(o)return o.apply(this,arguments)}}if(a.type!=="GET"&&!n.emulateJSON){a.processData=false}var h=n.error;n.error=function(t,e,i){n.textStatus=e;n.errorThrown=i;if(h)h.call(n.context,t,e,i)};var u=n.xhr=e.ajax(i.extend(a,n));r.trigger("request",r,u,n);return u};var H={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var $=e.Router=function(t){t||(t={});if(t.routes)this.routes=t.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var A=/\((.*?)\)/g;var C=/(\(\?)?:\w+/g;var R=/\*\w+/g;var j=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend($.prototype,l,{initialize:function(){},route:function(t,r,n){if(!i.isRegExp(t))t=this._routeToRegExp(t);if(i.isFunction(r)){n=r;r=""}if(!n)n=this[r];var s=this;e.history.route(t,function(i){var a=s._extractParameters(t,i);if(s.execute(n,a,r)!==false){s.trigger.apply(s,["route:"+r].concat(a));s.trigger("route",r,a);e.history.trigger("route",s,r,a)}});return this},execute:function(t,e,i){if(t)t.apply(this,e)},navigate:function(t,i){e.history.navigate(t,i);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=i.result(this,"routes");var t,e=i.keys(this.routes);while((t=e.pop())!=null){this.route(t,this.routes[t])}},_routeToRegExp:function(t){t=t.replace(j,"\\$&").replace(A,"(?:$1)?").replace(C,function(t,e){return e?t:"([^/?]+)"}).replace(R,"([^?]*?)");return new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return i.map(r,function(t,e){if(e===r.length-1)return t||null;return t?decodeURIComponent(t):null})}});var M=e.History=function(){this.handlers=[];this.checkUrl=i.bind(this.checkUrl,this);if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var N=/^[#\/]|\s+$/g;var O=/^\/+|\/+$/g;var U=/#.*$/;M.started=false;i.extend(M.prototype,l,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname);var e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return t.charAt(0)==="/"?t.slice(1):t},getFragment:function(t){if(t==null){if(this._usePushState||!this._wantsHashChange){t=this.getPath()}else{t=this.getHash()}}return t.replace(N,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");M.started=true;this.options=i.extend({root:"/"},this.options,t);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(O,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";this.location.replace(e+"#"+this.getPath());return true}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe");this.iframe.src="javascript:0";this.iframe.style.display="none";this.iframe.tabIndex=-1;var r=document.body;var n=r.insertBefore(this.iframe,r.firstChild).contentWindow;n.document.open();n.document.close();n.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState){s("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){s("hashchange",this.checkUrl,false)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};if(this._usePushState){t("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){t("hashchange",this.checkUrl,false)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);M.started=false},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe){e=this.getHash(this.iframe.contentWindow)}if(e===this.fragment)return false;if(this.iframe)this.navigate(e);this.loadUrl()},loadUrl:function(t){if(!this.matchRoot())return false;t=this.fragment=this.getFragment(t);return i.some(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}})},navigate:function(t,e){if(!M.started)return false;if(!e||e===true)e={trigger:!!e};t=this.getFragment(t||"");var i=this.root;if(t===""||t.charAt(0)==="?"){i=i.slice(0,-1)||"/"}var r=i+t;t=this.decodeFragment(t.replace(U,""));if(this.fragment===t)return;this.fragment=t;if(this._usePushState){this.history[e.replace?"replaceState":"pushState"]({},document.title,r)}else if(this._wantsHashChange){this._updateHash(this.location,t,e.replace);if(this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var n=this.iframe.contentWindow;if(!e.replace){n.document.open();n.document.close()}this._updateHash(n.location,t,e.replace)}}else{return this.location.assign(r)}if(e.trigger)return this.loadUrl(t)},_updateHash:function(t,e,i){if(i){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else{t.hash="#"+e}}});e.history=new M;var q=function(t,e){var r=this;var n;if(t&&i.has(t,"constructor")){n=t.constructor}else{n=function(){return r.apply(this,arguments)}}i.extend(n,r,e);var s=function(){this.constructor=n};s.prototype=r.prototype;n.prototype=new s;if(t)i.extend(n.prototype,t);n.__super__=r.prototype;return n};y.extend=x.extend=$.extend=I.extend=M.extend=q;var F=function(){throw new Error('A "url" property or function must be specified')};var z=function(t,e){var i=e.error;e.error=function(r){if(i)i.call(e.context,t,r,e);t.trigger("error",t,r,e)}};return e});

(function(e){"use strict";if(typeof exports==="object"){e(require("jquery"))}else if(typeof define==="function"&&define.amd){define(["jquery"],e)}else e(jQuery)})(function(e){"use strict";var n=function(e){e=e||"once";if(typeof e!=="string")throw new TypeError("The jQuery Once id parameter must be a string");return e};e.fn.once=function(t){var r="jquery-once-"+n(t);return this.filter(function(){return e(this).data(r)!==true}).data(r,true)};e.fn.removeOnce=function(e){return this.findOnce(e).removeData("jquery-once-"+n(e))};e.fn.findOnce=function(t){var r="jquery-once-"+n(t);return this.filter(function(){return e(this).data(r)===true})}});
(function(){var settingsElement=document.querySelector('head > script[type="application/json"][data-drupal-selector="drupal-settings-json"], body > script[type="application/json"][data-drupal-selector="drupal-settings-json"]');window.drupalSettings={};if(settingsElement!==null)window.drupalSettings=JSON.parse(settingsElement.textContent)})();
window.Drupal={behaviors:{},locale:{}};(function(Drupal,drupalSettings,drupalTranslations,console,Proxy,Reflect){Drupal.throwError=function(error){setTimeout(function(){throw error},0)};Drupal.attachBehaviors=function(context,settings){context=context||document;settings=settings||drupalSettings;var behaviors=Drupal.behaviors;Object.keys(behaviors||{}).forEach(function(i){if(typeof behaviors[i].attach==='function')try{behaviors[i].attach(context,settings)}catch(e){Drupal.throwError(e)}})};Drupal.detachBehaviors=function(context,settings,trigger){context=context||document;settings=settings||drupalSettings;trigger=trigger||'unload';var behaviors=Drupal.behaviors;Object.keys(behaviors||{}).forEach(function(i){if(typeof behaviors[i].detach==='function')try{behaviors[i].detach(context,settings,trigger)}catch(e){Drupal.throwError(e)}})};Drupal.checkPlain=function(str){str=str.toString().replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');return str};Drupal.formatString=function(str,args){var processedArgs={};Object.keys(args||{}).forEach(function(key){switch(key.charAt(0)){case'@':processedArgs[key]=Drupal.checkPlain(args[key]);break;case'!':processedArgs[key]=args[key];break;default:processedArgs[key]=Drupal.theme('placeholder',args[key]);break}});return Drupal.stringReplace(str,processedArgs,null)};Drupal.stringReplace=function(str,args,keys){if(str.length===0)return str;if(!Array.isArray(keys)){keys=Object.keys(args||{});keys.sort(function(a,b){return a.length-b.length})};if(keys.length===0)return str;var key=keys.pop(),fragments=str.split(key);if(keys.length)for(var i=0;i<fragments.length;i++)fragments[i]=Drupal.stringReplace(fragments[i],args,keys.slice(0));return fragments.join(args[key])};Drupal.t=function(str,args,options){options=options||{};options.context=options.context||'';if(typeof drupalTranslations!=='undefined'&&drupalTranslations.strings&&drupalTranslations.strings[options.context]&&drupalTranslations.strings[options.context][str])str=drupalTranslations.strings[options.context][str];if(args)str=Drupal.formatString(str,args);return str};Drupal.url=function(path){return drupalSettings.path.baseUrl+drupalSettings.path.pathPrefix+path};Drupal.url.toAbsolute=function(url){var urlParsingNode=document.createElement('a');try{url=decodeURIComponent(url)}catch(e){};urlParsingNode.setAttribute('href',url);return urlParsingNode.cloneNode(false).href};Drupal.url.isLocal=function(url){var absoluteUrl=Drupal.url.toAbsolute(url),protocol=window.location.protocol;if(protocol==='http:'&&absoluteUrl.indexOf('https:')===0)protocol='https:';var baseUrl=protocol+'//'+window.location.host+drupalSettings.path.baseUrl.slice(0,-1);try{absoluteUrl=decodeURIComponent(absoluteUrl)}catch(e){};try{baseUrl=decodeURIComponent(baseUrl)}catch(e){};return absoluteUrl===baseUrl||absoluteUrl.indexOf(baseUrl+'/')===0};Drupal.formatPlural=function(count,singular,plural,args,options){args=args||{};args['@count']=count;var pluralDelimiter=drupalSettings.pluralDelimiter,translations=Drupal.t(singular+pluralDelimiter+plural,args,options).split(pluralDelimiter),index=0;if(typeof drupalTranslations!=='undefined'&&drupalTranslations.pluralFormula){index=count in drupalTranslations.pluralFormula?drupalTranslations.pluralFormula[count]:drupalTranslations.pluralFormula.default}else if(args['@count']!==1)index=1;return translations[index]};Drupal.encodePath=function(item){return window.encodeURIComponent(item).replace(/%2F/g,'/')};Drupal.deprecationError=function(_ref){var message=_ref.message;if(drupalSettings.suppressDeprecationErrors===false&&typeof console!=='undefined'&&console.warn)console.warn('[Deprecation] '+message)};Drupal.deprecatedProperty=function(_ref2){var target=_ref2.target,deprecatedProperty=_ref2.deprecatedProperty,message=_ref2.message;if(!Proxy||!Reflect)return target;return new Proxy(target,{get:function get(target,key){for(var _len=arguments.length,rest=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)rest[_key-2]=arguments[_key];if(key===deprecatedProperty)Drupal.deprecationError({message:message});return Reflect.get.apply(Reflect,[target,key].concat(rest))}})};Drupal.theme=function(func){if(func in Drupal.theme){var _Drupal$theme;for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];return(_Drupal$theme=Drupal.theme)[func].apply(_Drupal$theme,args)}};Drupal.theme.placeholder=function(str){return'<em class="placeholder">'+Drupal.checkPlain(str)+'</em>'}})(Drupal,window.drupalSettings,window.drupalTranslations,window.console,window.Proxy,window.Reflect);
if(window.jQuery)jQuery.noConflict();document.documentElement.className+=' js';(function(Drupal,drupalSettings){var domReady=function domReady(callback){if(document.readyState!=='loading'){callback()}else{var listener=function listener(){callback();document.removeEventListener('DOMContentLoaded',listener)};document.addEventListener('DOMContentLoaded',listener)}};domReady(function(){Drupal.attachBehaviors(document,drupalSettings)})})(Drupal,window.drupalSettings);
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])}})});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.fn.extend({disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):a(this[0].form)}});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version","./escape-selector"],a):a(jQuery)}(function(a){return a.fn.labels=function(){var b,c,d,e,f;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(e=this.eq(0).parents("label"),d=this.attr("id"),d&&(b=this.eq(0).parents().last(),f=b.add(b.length?b.siblings():this.siblings()),c="label[for='"+a.ui.escapeSelector(d)+"']",e=e.add(f.find(c).addBack(c))),this.pushStack(e))}});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){"1.7"===a.fn.jquery.substring(0,3)&&(a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c};var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void(0)===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))})});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.fn.scrollParent=function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return(!d||"static"!==b.css("position"))&&e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)}});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version","./focusable"],a):a(jQuery)}(function(a){return a.extend(a.expr[":"],{tabbable:function(b){var c=a.attr(b,"tabindex"),d=null!=c;return(!d||c>=0)&&a.ui.focusable(b,d)}})});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.fn.extend({uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}})});
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){return a.ui=a.ui||{},a.ui.version="1.12.1"});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.ui.escapeSelector=function(){var a=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(b){return b.replace(a,"\\$1")}}()});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){function b(a){for(var b=a.css("visibility");"inherit"===b;)a=a.parent(),b=a.css("visibility");return"hidden"!==b};return a.ui.focusable=function(c,d){var e,f,g,h,i,j=c.nodeName.toLowerCase();return"area"===j?(e=c.parentNode,f=e.name,!(!c.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a("img[usemap='#"+f+"']"),g.length>0&&g.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(j)?(h=!c.disabled,h&&(i=a(c).closest("fieldset")[0],i&&(h=!i.disabled))):h="a"===j?c.href||d:d,h&&a(c).is(":visible")&&b(a(c)))},a.extend(a.expr[":"],{focusable:function(b){return a.ui.focusable(b,null!=a.attr(b,"tabindex"))}}),a.ui.focusable});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.ui.safeActiveElement=function(a){var b;try{b=a.activeElement}catch(c){b=a.body};return b||(b=a.body),b.nodeName||(b=a.body),b}});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){return a.ui.safeBlur=function(b){b&&"body"!==b.nodeName.toLowerCase()&&a(b).trigger("blur")}});
/*! jQuery UI - v1.12.1 - 2017-03-31
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./version"],a):a(jQuery)}(function(a){var b=0,c=Array.prototype.slice;return a.cleanData=function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{d=a._data(e,"events"),d&&d.remove&&a(e).triggerHandler("remove")}catch(g){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h={},i=b.split(".")[0];b=b.split(".")[1];var j=i+"-"+b;return d||(d=c,c=a.Widget),a.isArray(d)&&(d=a.extend.apply(null,[{}].concat(d))),a.expr[":"][j.toLowerCase()]=function(b){return!!a.data(b,j)},a[i]=a[i]||{},e=a[i][b],f=a[i][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new f(a,b)},a.extend(f,e,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),g=new c,g.options=a.widget.extend({},g.options),a.each(d,function(b,d){return a.isFunction(d)?void(h[b]=function(){function a(){return c.prototype[b].apply(this,arguments)}function e(a){return c.prototype[b].apply(this,a)}return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(h[b]=d)}),f.prototype=a.widget.extend(g,{widgetEventPrefix:e?g.widgetEventPrefix||b:b},h,{constructor:f,namespace:i,widgetName:b,widgetFullName:j}),e?(a.each(e._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,f,c._proto)}),delete e._childConstructors):c._childConstructors.push(f),a.widget.bridge(b,f),f},a.widget.extend=function(b){for(var d,e,f=c.call(arguments,1),g=0,h=f.length;g<h;g++)for(d in f[g])e=f[g][d],f[g].hasOwnProperty(d)&&void 0!==e&&(a.isPlainObject(e)?b[d]=a.isPlainObject(b[d])?a.widget.extend({},b[d],e):a.widget.extend({},e):b[d]=e);return b},a.widget.bridge=function(b,d){var e=d.prototype.widgetFullName||b;a.fn[b]=function(f){var g="string"==typeof f,h=c.call(arguments,1),i=this;return g?this.length||"instance"!==f?this.each(function(){var c,d=a.data(this,e);return"instance"===f?(i=d,!1):d?a.isFunction(d[f])&&"_"!==f.charAt(0)?(c=d[f].apply(d,h),c!==d&&void 0!==c?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+f+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}):i=void 0:(h.length&&(f=a.widget.extend.apply(null,[f].concat(h))),this.each(function(){var b=a.data(this,e);b?(b.option(f||{}),b._init&&b._init()):a.data(this,e,new d(f,this))})),i}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(c,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),this.classesElementLookup={},d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),c),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){var b=this;this._destroy(),a.each(this.classesElementLookup,function(a,c){b._removeClass(c,a)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return"classes"===a&&this._setOptionClasses(b),this.options[a]=b,"disabled"===a&&this._setOptionDisabled(b),this},_setOptionClasses:function(b){var c,d,e;for(c in b)e=this.classesElementLookup[c],b[c]!==this.options.classes[c]&&e&&e.length&&(d=a(e.get()),this._removeClass(e,c),d.addClass(this._classes({element:d,keys:c,classes:b,add:!0})))},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a),a&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(b){function c(c,f){var g,h;for(h=0;h<c.length;h++)g=e.classesElementLookup[c[h]]||a(),g=a(b.add?a.unique(g.get().concat(b.element.get())):g.not(b.element).get()),e.classesElementLookup[c[h]]=g,d.push(c[h]),f&&b.classes[c[h]]&&d.push(b.classes[c[h]])}var d=[],e=this;return b=a.extend({element:this.element,classes:this.options.classes||{}},b),this._on(b.element,{remove:"_untrackClassesElement"}),b.keys&&c(b.keys.match(/\S+/g)||[],!0),b.extra&&c(b.extra.match(/\S+/g)||[]),d.join(" ")},_untrackClassesElement:function(b){var c=this;a.each(c.classesElementLookup,function(d,e){a.inArray(b.target,e)!==-1&&(c.classesElementLookup[d]=a(e.not(b.target).get()))})},_removeClass:function(a,b,c){return this._toggleClass(a,b,c,!1)},_addClass:function(a,b,c){return this._toggleClass(a,b,c,!0)},_toggleClass:function(a,b,c,d){d="boolean"==typeof d?d:c;var e="string"==typeof a||null===a,f={extra:e?b:c,keys:e?a:b,element:e?this.element:a,add:d};return f.element.toggleClass(this._classes(f),d),this},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){if(b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof g?f[g]:g).apply(f,arguments)}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.on(j,k,h):c.on(j,h)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.off(c).off(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){this._addClass(a(b.currentTarget),null,"ui-state-hover")},mouseleave:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){this._addClass(a(b.currentTarget),null,"ui-state-focus")},focusout:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}}),a.widget});;
(function(root,blazy){if(typeof define==='function'&&define.amd){define(blazy)}else if(typeof exports==='object'){module.exports=blazy()}else root.Blazy=blazy()})(this,function(){'use strict';var _source,_viewport,_isRetina,_supportClosest,_attrSrc='src',_attrSrcset='srcset';return function Blazy(options){if(!document.querySelectorAll){var s=document.createStyleSheet();document.querySelectorAll=function(r,c,i,j,a){a=document.all,c=[],r=r.replace(/\[for\b/gi,'[htmlFor').split(',');for(i=r.length;i--;){s.addRule(r[i],'k:v');for(j=a.length;j--;)a[j].currentStyle.k&&c.push(a[j]);s.removeRule(0)};return c}};var scope=this,util=scope._util={};util.elements=[];util.destroyed=true;scope.options=options||{};scope.options.error=scope.options.error||false;scope.options.offset=scope.options.offset||100;scope.options.root=scope.options.root||document;scope.options.success=scope.options.success||false;scope.options.selector=scope.options.selector||'.b-lazy';scope.options.separator=scope.options.separator||'|';scope.options.containerClass=scope.options.container;scope.options.container=scope.options.containerClass?document.querySelectorAll(scope.options.containerClass):false;scope.options.errorClass=scope.options.errorClass||'b-error';scope.options.breakpoints=scope.options.breakpoints||false;scope.options.loadInvisible=scope.options.loadInvisible||false;scope.options.successClass=scope.options.successClass||'b-loaded';scope.options.validateDelay=scope.options.validateDelay||25;scope.options.saveViewportOffsetDelay=scope.options.saveViewportOffsetDelay||50;scope.options.srcset=scope.options.srcset||'data-srcset';scope.options.src=_source=scope.options.src||'data-src';_supportClosest=Element.prototype.closest;_isRetina=window.devicePixelRatio>1;_viewport={};_viewport.top=0-scope.options.offset;_viewport.left=0-scope.options.offset;scope.revalidate=function(){initialize(scope)};scope.load=function(elements,force){var opt=this.options;if(elements&&elements.length===undefined){loadElement(elements,force,opt)}else each(elements,function(element){loadElement(element,force,opt)})};scope.destroy=function(){var util=scope._util;if(scope.options.container)each(scope.options.container,function(object){unbindEvent(object,'scroll',util.validateT)});unbindEvent(window,'scroll',util.validateT);unbindEvent(window,'resize',util.validateT);unbindEvent(window,'resize',util.saveViewportOffsetT);util.count=0;util.elements.length=0;util.destroyed=true};util.validateT=throttle(function(){validate(scope)},scope.options.validateDelay,scope);util.saveViewportOffsetT=throttle(function(){saveViewportOffset(scope.options.offset)},scope.options.saveViewportOffsetDelay,scope);saveViewportOffset(scope.options.offset);each(scope.options.breakpoints,function(object){if(object.width>=window.screen.width){_source=object.src;return false}});setTimeout(function(){initialize(scope)})}
function initialize(self){var util=self._util;util.elements=toArray(self.options);util.count=util.elements.length;if(util.destroyed){util.destroyed=false;if(self.options.container)each(self.options.container,function(object){bindEvent(object,'scroll',util.validateT)});bindEvent(window,'resize',util.saveViewportOffsetT);bindEvent(window,'resize',util.validateT);bindEvent(window,'scroll',util.validateT)};validate(self)}
function validate(self){var util=self._util;for(var i=0;i<util.count;i++){var element=util.elements[i];if(elementInView(element,self.options)||hasClass(element,self.options.successClass)){self.load(element);util.elements.splice(i,1);util.count--;i--}};if(util.count===0)self.destroy()}
function elementInView(ele,options){var rect=ele.getBoundingClientRect();if(options.container&&_supportClosest){var elementContainer=ele.closest(options.containerClass);if(elementContainer){var containerRect=elementContainer.getBoundingClientRect();if(inView(containerRect,_viewport)){var top=containerRect.top-options.offset,right=containerRect.right+options.offset,bottom=containerRect.bottom+options.offset,left=containerRect.left-options.offset,containerRectWithOffset={top:top>_viewport.top?top:_viewport.top,right:right<_viewport.right?right:_viewport.right,bottom:bottom<_viewport.bottom?bottom:_viewport.bottom,left:left>_viewport.left?left:_viewport.left};return inView(rect,containerRectWithOffset)}else return false}};return inView(rect,_viewport)}
function inView(rect,viewport){return rect.right>=viewport.left&&rect.bottom>=viewport.top&&rect.left<=viewport.right&&rect.top<=viewport.bottom}
function loadElement(ele,force,options){if(options.cloudinary&&getAttr(ele,_source)&&getAttr(ele,_source).indexOf("i.infopls.com")>=0){var dimensional=',';if(getAttr(ele,"width")&&getAttr(ele,"width")!=="100%")dimensional+="w_"+removeDimensional(getAttr(ele,"width"))+",";if(getAttr(ele,"height")&&getAttr(ele,"height")!=='auto'&&getAttr(ele,"height")!=="100%")dimensional+="h_"+removeDimensional(getAttr(ele,"height"));dimensional=dimensional.trim().replace(/,{1,}$/,'');var infoPlsURl=getAttr(ele,_source);if(infoPlsURl.indexOf("http")!=-1){infoPlsURl=infoPlsURl}else infoPlsURl="https:"+infoPlsURl;var currentsiteUrl=window.location.href,cloundinaryMainUrl="https://res.cloudinary.com/fen-learning/image/fetch/c_limit";if(currentsiteUrl.indexOf("infoplease")!=-1||currentsiteUrl.indexOf("factmonster")!=-1||currentsiteUrl.indexOf("familyeducation")!=-1){infoPlsURl=infoPlsURl.replace("https://i.infopls.com","infopls_images");infoPlsURl=infoPlsURl.replace("http://i.infopls.com","infopls_images");cloundinaryMainUrl="https://res.cloudinary.com/fen-learning/image/upload/c_limit"};setAttr(ele,_source,cloundinaryMainUrl+dimensional+"/"+infoPlsURl)};if(!hasClass(ele,options.successClass)&&(force||options.loadInvisible||(ele.offsetWidth>=0&&ele.offsetHeight>=0))){var dataSrc=getAttr(ele,_source)||getAttr(ele,options.src);if(dataSrc){var dataSrcSplitted=dataSrc.split(options.separator),src=dataSrcSplitted[_isRetina&&dataSrcSplitted.length>1?1:0],srcset=getAttr(ele,options.srcset),isImage=equal(ele,'img'),parent=ele.parentNode,isPicture=parent&&equal(parent,'picture');if(isImage||ele.src===undefined){var img=new Image(),onErrorHandler=function(){if(options.error)options.error(ele,"invalid");addClass(ele,options.errorClass);unbindEvent(img,'error',onErrorHandler);unbindEvent(img,'load',onLoadHandler)},onLoadHandler=function(){if(isImage){if(!isPicture)handleSources(ele,src,srcset)}else ele.style.backgroundImage='url("'+src+'")';itemLoaded(ele,options);unbindEvent(img,'load',onLoadHandler);unbindEvent(img,'error',onErrorHandler)};if(isPicture){img=ele;each(parent.getElementsByTagName('source'),function(source){handleSource(source,_attrSrcset,options.srcset)})};bindEvent(img,'error',onErrorHandler);bindEvent(img,'load',onLoadHandler);handleSources(img,src,srcset)}else{ele.src=src;itemLoaded(ele,options)}}else if(equal(ele,'video')){each(ele.getElementsByTagName('source'),function(source){handleSource(source,_attrSrc,options.src)});ele.load();itemLoaded(ele,options)}else{if(options.error)options.error(ele,"missing");addClass(ele,options.errorClass)}}}
function itemLoaded(ele,options){addClass(ele,options.successClass);if(options.success)options.success(ele);removeAttr(ele,options.src);removeAttr(ele,options.srcset);each(options.breakpoints,function(object){removeAttr(ele,object.src)})}
function handleSource(ele,attr,dataAttr){var dataSrc=getAttr(ele,dataAttr);if(dataSrc){setAttr(ele,attr,dataSrc);removeAttr(ele,dataAttr)}}
function handleSources(ele,src,srcset){if(srcset)setAttr(ele,_attrSrcset,srcset);ele.src=src}
function setAttr(ele,attr,value){ele.setAttribute(attr,value)}
function getAttr(ele,attr){return ele.getAttribute(attr)}
function removeAttr(ele,attr){ele.removeAttribute(attr)}
function equal(ele,str){return ele.nodeName.toLowerCase()===str}
function hasClass(ele,className){return(' '+ele.className+' ').indexOf(' '+className+' ')!==-1}
function addClass(ele,className){if(!hasClass(ele,className))ele.className+=' '+className}
function toArray(options){var array=[],nodelist=(options.root).querySelectorAll(options.selector);for(var i=nodelist.length;i--;array.unshift(nodelist[i]));return array}
function saveViewportOffset(offset){_viewport.bottom=(window.innerHeight||document.documentElement.clientHeight)+offset;_viewport.right=(window.innerWidth||document.documentElement.clientWidth)+offset}
function bindEvent(ele,type,fn){if(ele.attachEvent){ele.attachEvent&&ele.attachEvent('on'+type,fn)}else ele.addEventListener(type,fn,{capture:false,passive:true})}
function unbindEvent(ele,type,fn){if(ele.detachEvent){ele.detachEvent&&ele.detachEvent('on'+type,fn)}else ele.removeEventListener(type,fn,{capture:false,passive:true})}
function each(object,fn){if(object&&fn){var l=object.length;for(var i=0;i<l&&fn(object[i],i)!==false;i++);}}
function throttle(fn,minDelay,scope){var lastCall=0;return function(){var now=+new Date();if(now-lastCall<minDelay)return;lastCall=now;fn.apply(scope,arguments)}}
function removeDimensional(string){var newString=string.replace('px','');newString=newString.replace('%','');return newString}});
jQuery(function(){var bLazy=new Blazy({cloudinary:drupalSettings.cloudinary,src:"data-src",success:function(element){element.className=element.className.replace("lazy_load_image",'');setTimeout(function(){var parent=element.parentNode;parent.className=parent.className.replace(/\bloading\b/,'')},500)},error:function(ele,msg){ele.removeAttribute('src');ele.className=ele.className.replace("lazy_load_image",'')}})});
(function($,Drupal){var autocomplete=void(0)
function autocompleteSplitValues(value){var result=[],quote=false,current='',valueLength=value.length,character=void(0);for(var i=0;i<valueLength;i++){character=value.charAt(i);if(character==='"'){current+=character;quote=!quote}else if(character===','&&!quote){result.push(current.trim());current=''}else current+=character};if(value.length>0)result.push($.trim(current));return result}
function extractLastTerm(terms){return autocomplete.splitValues(terms).pop()}
function searchHandler(event){var options=autocomplete.options;if(options.isComposing)return false;var term=autocomplete.extractLastTerm(event.target.value);if(term.length>0&&options.firstCharacterBlacklist.indexOf(term[0])!==-1)return false;return term.length>=options.minLength}
function sourceData(request,response){var elementId=this.element.attr('id');if(!(elementId in autocomplete.cache))autocomplete.cache[elementId]={}
function showSuggestions(suggestions){var tagged=autocomplete.splitValues(request.term),il=tagged.length;for(var i=0;i<il;i++){var index=suggestions.indexOf(tagged[i]);if(index>=0)suggestions.splice(index,1)};response(suggestions)};var term=autocomplete.extractLastTerm(request.term)
function sourceCallbackHandler(data){autocomplete.cache[elementId][term]=data;showSuggestions(data)};if(autocomplete.cache[elementId].hasOwnProperty(term)){showSuggestions(autocomplete.cache[elementId][term])}else{var options=$.extend({success:sourceCallbackHandler,data:{q:term}},autocomplete.ajax);$.ajax(this.element.attr('data-autocomplete-path'),options)}}
function focusHandler(){return false}
function selectHandler(event,ui){var terms=autocomplete.splitValues(event.target.value);terms.pop();terms.push(ui.item.value);event.target.value=terms.join(', ');return false}
function renderItem(ul,item){return $('<li>').append($('<a>').html(item.label)).appendTo(ul)};Drupal.behaviors.autocomplete={attach:function attach(context){var $autocomplete=$(context).find('input.form-autocomplete').once('autocomplete');if($autocomplete.length){var blacklist=$autocomplete.attr('data-autocomplete-first-character-blacklist');$.extend(autocomplete.options,{firstCharacterBlacklist:blacklist||''});$autocomplete.autocomplete(autocomplete.options).each(function(){$(this).data('ui-autocomplete')._renderItem=autocomplete.options.renderItem});$autocomplete.on('compositionstart.autocomplete',function(){autocomplete.options.isComposing=true});$autocomplete.on('compositionend.autocomplete',function(){autocomplete.options.isComposing=false})}},detach:function detach(context,settings,trigger){if(trigger==='unload')$(context).find('input.form-autocomplete').removeOnce('autocomplete').autocomplete('destroy')}};autocomplete={cache:{},splitValues:autocompleteSplitValues,extractLastTerm:extractLastTerm,options:{source:sourceData,focus:focusHandler,search:searchHandler,select:selectHandler,renderItem:renderItem,minLength:1,firstCharacterBlacklist:'',isComposing:false},ajax:{dataType:'json'}};Drupal.autocomplete=autocomplete})(jQuery,Drupal);
(function($){$.fn.rwdImageMaps=function(){var $img=this,rwdImageMap=function(){$img.each(function(){if(typeof($(this).attr('usemap'))=='undefined')return;var that=this,$that=$(that);$('<img />').on('load',function(){$that.addClass("resized-called");var attrW='width',attrH='height',w=$that.attr(attrW),h=$that.attr(attrH);if(!w||!h){var temp=new Image();temp.src=$that.attr('src');if(!w)w=temp.width;if(!h)h=temp.height};var wPercent=$that.width()/100,hPercent=$that.height()/100,map=$that.attr('usemap').replace('#',''),c='coords';$('map[name="'+map+'"]').find('area').each(function(){var $this=$(this);if(!$this.data(c))$this.data(c,$this.attr(c));var coords=$this.data(c).split(','),coordsPercent=new Array(coords.length);for(var i=0;i<coordsPercent.length;++i)if(i%2===0){coordsPercent[i]=parseInt(((coords[i]/w)*100)*wPercent)}else coordsPercent[i]=parseInt(((coords[i]/h)*100)*hPercent);$this.attr(c,coordsPercent.toString())})}).attr('src',$that.attr('src'))})};$(window).resize(rwdImageMap).trigger('resize');return this}})(jQuery);
(function($){Drupal.behaviors.ip={attach:function(context){var resizeMap=setInterval(function(){jQuery('img[usemap]').rwdImageMaps();if(jQuery('img[usemap]').hasClass("resized-called")||jQuery('img[usemap]').length==0)clearInterval(resizeMap)},100),leaderboard_stick=function(){sticky_relocate()},leaderboard_unstick=function(){$('.layout-full-width #block-ipleaderboardad').removeClass('stick');$('#content-anchor').css("position","absolute")},leaderboard_transition_in=function(){$('.layout-full-width #block-ipleaderboardad').css("top",0)},leaderboard_transition_out=function(){$('.layout-full-width #block-ipleaderboardad').css("top","")};if(isMobile())window.onload=function(){setTimeout(leaderboard_stick,3e3);setTimeout(leaderboard_transition_in,3050);setTimeout(leaderboard_transition_out,7900);setTimeout(leaderboard_unstick,8e3)}
function sticky_relocate(){var window_top=$(window).scrollTop(),div_top=$('#content-anchor').offset().top;if(window_top>div_top){$('.layout-full-width #block-ipleaderboardad').addClass('stick');var placeholder_height=$('#block-ipleaderboardad').height(),placeholder_height=(parseInt(placeholder_height)+20)+"px";$('#content-anchor').css({position:"initial",height:placeholder_height});console.log(placeholder_height)}else{$('.layout-full-width #block-ipleaderboardad').removeClass('stick');$('#content-anchor').css("position","absolute")}}
function searchSubmit(searchvar,e){var search_selector='.'+searchvar,searchText=jQuery(search_selector+' input[type="text"]').val().replace(' ','+');searchText=searchText.trim();if(searchText==''){e.preventDefault();return false};var path=location.pathname,path_array=path.split('/');if(path_array[1]=='pregnancy'){window.location.href='/search/'+searchText+'?term=pregnancy'}else window.location.href='/search/'+searchText};jQuery("#searchsubmit_footer").on('click',function(e){var search_var=jQuery(this).parents('form').attr('class');searchSubmit(search_var,e);e.preventDefault()});if(jQuery(window).width()<768){jQuery("section.main-section article #continue_reading").css("display","block");jQuery("section.main-section article #continue_reading").nextAll().hide();jQuery("#continue_reading").parentsUntil('article').each(function(){jQuery(this).nextAll().addClass("read_con");jQuery(".read_con").css("display","none")});jQuery("section.main-section article #continue_reading").click(function(){jQuery("section.main-section article #continue_reading").nextAll().show();jQuery("section.main-section article .read_con").css("display","block");jQuery("section.main-section article #continue_reading").hide()})};jQuery("#calendar_form_button").click(function(event){calendar_form_year_value=jQuery("#calendar_form_year_value").val();calendar_form_month_value=jQuery("#calendar_form_month_value").val();if(calendar_form_year_value!=''&&(jQuery.isNumeric(calendar_form_year_value)||calendar_form_year_value<1582||calendar_form_year_value>9999)){event.preventDefault();window.location.href="/calendar/"+calendar_form_year_value+calendar_form_month_value}});jQuery(".sitesearch").keydown(function(e){if(e.keyCode==13){var searchText=jQuery(this).val();searchText=searchText.trim();window.location.href='/search/'+(searchText.replace(" ","+"));e.preventDefault()}});jQuery(".sitesearch_button").on('click',function(e){var searchText=jQuery(".sitesearch").val();searchText=searchText.trim();window.location.href='/search/'+(searchText.replace(" ","+"));e.preventDefault()});if($('.map_data map').length)$('.usemap_continent img').attr('usemap','#'+$('.map_data map').attr('name'));$("#jump").click(function(){if($(this).val()!=''){var index=document.forms['catlist'].category.selectedIndex,cat=document.forms['catlist'].category.options[index].value;document.location="#"+cat}});$('.scrollToTop').click(function(){window.scrollTo(0,0);return false});$('iframe[width="300"][height="600"]').each(function(){$(this).closest('.block').addClass('hide-ad')});if(isMobile())if(window.location.pathname=="/dictionary"){jQuery('#block-sidebarvideoplayer').insertAfter('form.dictionary');jQuery('#block-ipabovethefold').insertAfter('#block-sidebarvideoplayer');jQuery('#block-ipmiddlewaread').insertAfter('.dictionary-related')}else if(!jQuery('body').hasClass('path-frontpage')){var contentWidth=jQuery('.main-section').outerWidth(),noOfPs=0,noOfAdPlaced=0,PId;jQuery('.main-section p').each(function(){if(jQuery(this).outerWidth()>=(contentWidth-37)&&jQuery(this).text()!=''){PId=jQuery(this);noOfPs=noOfPs+1;switch(noOfPs){case 1:jQuery('#block-sidebarvideoplayer').insertAfter(this);jQuery('#block-sidebarvideoplayer').css({margin:'10px 0',clear:'both'});noOfAdPlaced=noOfAdPlaced+1;break;case 2:jQuery('#block-ipabovethefold').insertAfter(this);noOfAdPlaced=noOfAdPlaced+1;break;case 3:jQuery('#block-ipmiddlewaread').insertAfter(this);noOfAdPlaced=noOfAdPlaced+1;break;default:break}};if(noOfAdPlaced==3)return false});if(noOfPs==2){jQuery('#block-ipmiddlewaread').insertAfter(PId.next());jQuery('#block-ipmiddlewaread').css('margin-top','10px')};if(noOfPs==1){jQuery('#block-ipabovethefold').insertAfter(PId.next());jQuery('#block-ipmiddlewaread').insertAfter(PId.next().next());jQuery('#block-ipmiddlewaread').css('margin-top','10px')};if(noOfPs==0){jQuery('#block-sidebarvideoplayer').insertAfter(jQuery(".main-section"));jQuery('#block-sidebarvideoplayer').css({margin:'10px 0',clear:'both'});jQuery('#block-ipabovethefold').insertAfter(jQuery(".main-section").next());jQuery('#block-ipmiddlewaread').insertAfter(jQuery(".main-section").next().next());jQuery('#block-ipmiddlewaread').css('margin-top','10px')}}else{jQuery('#block-sidebarvideoplayer').insertBefore(jQuery("#block-ipyearbyyearformblock"));jQuery('#block-sidebarvideoplayer').css('margin-bottom','10px');jQuery('#block-ipabovethefold').insertAfter(jQuery("#block-views-block-most-popular-block-1"));jQuery('#block-ipabovethefold').css('margin-bottom','10px');jQuery('#block-ipmiddlewaread').insertBefore(jQuery("#block-featuredvideo"));jQuery('#block-ipmiddlewaread').css('margin-bottom','10px')};jQuery("#block-ip-local-tasks ul li a").filter(function(){return this.href==location.href.replace(/#.*/,"")}).addClass("active");if(document.location.search.split('=')['1'])jQuery('.path-search-encyclopedia .encyclopedia-search .form-item-search label').hide();jQuery('.see_answer').on('click',function(e){e.preventDefault();jQuery(this).closest('.wrong-anwser').hide();jQuery(this).closest('.wrong-anwser').next().show()});var slideCount=jQuery('#IPSlide > dl').length;if(slideCount>0){jQuery('#IPSlide > dl').hide();jQuery('#IPSlide').css({height:'auto'});jQuery('.slidetopnav').attr('id','slidetopnav');jQuery('.slidetopnav .prevss').attr('rel','prev');jQuery('.slidetopnav .nextss').attr('rel','next');if(window.location.search.substring(6)!=''){var next=parseInt(window.location.search.substring(6))+1,prev=parseInt(window.location.search.substring(6))-1;if(parseInt(window.location.search.substring(6))==slideCount)next=1;if(parseInt(window.location.search.substring(6))==1)prev=slideCount;jQuery(".slidercount").html(parseInt(window.location.search.substring(6))+" / "+slideCount);jQuery('#IPSlide > dl:nth-child('+parseInt(window.location.search.substring(6))+')').show();if(jQuery('.slidetopnav .prevss').attr('href')=='#')jQuery('.slidetopnav .prevss').attr('href','?page='+prev+'#slidetopnav');if(jQuery('.slidetopnav .nextss').attr('href')=='#')jQuery('.slidetopnav .nextss').attr('href','?page='+next+'#slidetopnav')}else{jQuery(".slidercount").html("1 / "+slideCount);jQuery('#IPSlide > dl:nth-child(1)').show();if(jQuery('.slidetopnav .prevss').attr('href')=='#')jQuery('.slidetopnav .prevss').attr('href','?page='+slideCount+'#slidetopnav');if(jQuery('.slidetopnav .nextss').attr('href')=='#')jQuery('.slidetopnav .nextss').attr('href','?page=2#slidetopnav')}};if(jQuery('.page-node-type-slideshow .theslide').length>0){jQuery('.page-node-type-slideshow .theslide').attr('id','theslide');jQuery('#prev1').attr('href',jQuery('#prev1').attr('href')+'#theslide');jQuery('#next1').attr('href',jQuery('#next1').attr('href')+'#theslide')};jQuery("#calendar_year_form_button").click(function(event){calendar_year_form_value=jQuery("#calendar_year_form_value").val();if(calendar_year_form_value!=''&&(jQuery.isNumeric(calendar_year_form_value)||calendar_year_form_value<1582||calendar_year_form_value>9999)){event.preventDefault();window.location.href="/calendar/year/"+calendar_year_form_value}});$('.ip-tools').once().on('click',function(){$(this).toggleClass('active',1e3,'easeInQuad');$('#main-menu-navbar-collapse').collapse('hide')});$('.navbar-toggle').once().on('click',function(){$('.ip-tools').removeClass('active',1e3,'easeInQuad')});$(".ip-search-toggle").once().on("click",function(){$(".ip-search-form").addClass('active');$('body').addClass('header-search-on');$(".ip-search-form form .form-search").focus()});$(".ip-nav-search-close").once().on("click",function(){$(".ip-search-form").removeClass("active");$('body').removeClass('header-search-on')});jQuery(window).on('scroll',function(){if(jQuery(window).width()>1024)if(jQuery(this).scrollTop()>=jQuery(window).height()){jQuery('body').addClass('stickytop')}else jQuery('body').removeClass('stickytop')});if(jQuery(window).width()>1024&&jQuery("#block-ipmiddlewaread").length>0)if(jQuery('main > article.col-sm-8').length==0||(jQuery('main > article.col-sm-8').length>0&&jQuery('main > article.col-sm-8').height()>=1235))fixedSidebar()}}})(jQuery);var maxHeight=function(elems){return Math.max.apply(null,elems.map(function(){return jQuery(this).outerHeight(true)}).get())};jQuery(document).ready(function(){if(window.matchMedia("(min-width:1030px)").matches)(function(){var po=document.createElement('script');po.type='text/javascript';po.src='https://ss3.zedo.com/jsc/ss3/fo.js';document.head.appendChild(po)})();if(jQuery("input[name=location]").length>0)jQuery("input[name=location]").autocomplete({select:function(event,ui){event.preventDefault();jQuery(this).val(ui.item.label);jQuery('input[name=location_send]').val(ui.item.value)}});if(jQuery("input[name=distance_from]").length>0)jQuery("input[name=distance_from]").autocomplete({select:function(event,ui){event.preventDefault();jQuery(this).val(ui.item.label);jQuery('input[name=distance_from_hidden]').val(ui.item.value)}});if(jQuery("input[name=distance_to]").length>0)jQuery("input[name=distance_to]").autocomplete({select:function(event,ui){event.preventDefault();jQuery(this).val(ui.item.label);jQuery('input[name=distance_to_hidden]').val(ui.item.value)}});jQuery(".plus-en").on('click',function(){jQuery('.content-en').hide();jQuery(this).parent().find('.content-en').toggle();jQuery(".plus-en").show();jQuery(this).hide();jQuery(".minus-en").hide();jQuery(this).parent().find(".minus-en").show()});jQuery(".minus-en").on('click',function(){jQuery('.content-en').hide();jQuery(this).parent().find(".plus-en").show();jQuery(this).hide()});if(jQuery('li').hasClass("active"))jQuery('.active').find(".content-en").show().end().find('.plus-en').hide().end().find('.minus-en').show();jQuery('.year-histiory .bdayformbottom .submit').click(function(e){$year_val=jQuery(".year-histiory input[name=fourdigit]").val();if(jQuery.isNumeric($year_val)){if($year_val>=1900&&$year_val<=current_year){window.location.href="/year/"+$year_val}else alert('Please enter years between 1900 - '+current_year)}else window.location.href="/yearbyyear";e.preventDefault()});jQuery('#chronology input[type="submit"]').click(function(e){$year_val=jQuery("#chronology input[name=fourdigit]").val();if(jQuery.isNumeric($year_val)){if($year_val>=1900&&$year_val<=current_year){window.location.href="/year/"+$year_val}else alert('Please enter years between 1900 - '+current_year)}else window.location.href="/yearbyyear/";e.preventDefault()});jQuery('.day-histiory .bdayformbottom .submit, .calendarforms #dihform .submit').click(function(e){var day_val=jQuery(".day-histiory input[name=day], .calendarforms #dihform input[name=day]").val(),month_val=jQuery(".day-histiory select[name=month], .calendarforms #dihform select[name=month]").val();if(jQuery.isNumeric(day_val)){window.location.href="/dayinhistory/"+month_val+"-"+day_val}else jQuery(".calendarforms #dihform ").append("<span>Not a valid date!</span>");e.preventDefault()});if(jQuery('.sgmltable').parent().hasClass('left'))jQuery('.sgmltable').closest('div').css('float','none');if(jQuery(".page-node-type-flash").length>0){var flashArr={id2638772:'/images/dyn/chem/electrolpt1.swf',id2588322:'/images/dyn/chem/shuttle.swf',id2417376:'/images/dyn/chem/singlech3cooh.swf',id2599101:'/images/dyn/chem/singleh2so4.swf',id2847866:'/images/dyn/chem/abpt1.swf',id2695767:'/images/dyn/chem/singleh3po4.swf',id2815985:'/images/dyn/chem/singlehcl.swf',id2359212:'/images/dyn/chem/singlehno3.swf',id2709220:'/images/dyn/chem/singlenahso4.swf',id2813393:'/images/dyn/chem/pptpt3.swf',id2756527:'/images/dyn/chem/pptpt2.swf',id2654536:'/images/dyn/chem/pptpt1.swf',id2386868:'/images/dyn/chem/electrolpt3.swf',id2695702:'/images/dyn/chem/electrolpt2.swf',id2802541:'/images/dyn/chem/carbonatept2.swf',id2802336:'/images/dyn/chem/carbonatept1.swf',id2512472:'/images/dyn/chem/abpt3.swf',id2320096:'/images/dyn/chem/abpt2.swf',id2450282:'/images/dyn/chem/thermo.swf'};jQuery.each(flashArr,function(index,value){if(jQuery("#"+index).length>0){var fo=new FlashObject("https://i.infopls.com"+value,index,"100%","300","6","#ffffff");fo.write(index)}})};if(jQuery('#myCarousel').length>0){var regex=new RegExp('[?]slide[=][0-9]+'),slide=window.location.search==""?0:window.location.search.slice(1).split('=')[1];slide=parseInt(slide);var count=parseInt(jQuery('#myCarousel .carousel-inner .item').length);if(regex.test(window.location.search)==false&&window.location.search!="")slide=0;if(slide>count-1)slide=count-1;if(slide<0)slide=0;var prev=slide-1,next=slide+1;if(slide==count-1){prev=count-2;next=0};if(slide==0){prev=count-1;next=1};jQuery('.carousel-indicators li').each(function(){var slideTo=parseInt(jQuery(this).attr('data-slide-to'));if(slideTo===0){jQuery(this).children('a').prop("href",window.location.pathname)}else jQuery(this).children('a').prop("href",window.location.pathname+'?slide='+slideTo);if(slide===slideTo)jQuery(this).addClass('active')});if(next===0){jQuery('.carousel-control.right').prop("href",window.location.pathname)}else jQuery('.carousel-control.right').prop("href",window.location.pathname+'?slide='+next);if(prev===0){jQuery('.carousel-control.left').prop("href",window.location.pathname)}else jQuery('.carousel-control.left').prop("href",window.location.pathname+'?slide='+prev);jQuery('#myCarousel .carousel-inner .item').each(function(index){if(index==slide)jQuery(this).addClass('active')});jQuery('#myCarousel .data-collection-items .data-collection-item').each(function(index){if(index==slide)jQuery(this).removeClass('hide').addClass('active')});jQuery('#myCarousel .next-slide-element-div .next-btn').each(function(index){if(index==next){if(next===0){jQuery(this).parent('a').prop("href",window.location.pathname)}else jQuery(this).parent('a').prop("href",window.location.pathname+'?slide='+next);jQuery(this).removeClass('hide').addClass('active')}})}});jQuery(window).scroll(function(){jQuery(".jumpup a").click(function(){var target=jQuery(this).attr('href');jQuery('body').stop().animate({scrollTop:jQuery(target).offset().top-300},2e3)})});jQuery('.article-detail.left-gap').closest("section").removeClass('col-sm-8').addClass('col-sm-12');if(jQuery('.article-detail.left-gap').length==1)jQuery('#block-encyclopediacategories-2').css('display','none');var highestHeight=0;jQuery('.horizontal').each(function(){if(jQuery(this).height()>highestHeight)highestHeight=jQuery(this).height();jQuery(this).height(highestHeight);highestHeight=highestHeight-10;jQuery(this).prev('h3').height(highestHeight);highestHeight=0;jQuery('h3').css('clear','both')});jQuery('.dictionary .submit, .thesaurus .submit, .year .submit').click(function(e){e.preventDefault();var search='';if(jQuery(this).parent('form').hasClass("year")&&jQuery(this).siblings('input.search').val()==""){window.location.href="/yearbyyear"}else if(jQuery(this).siblings('input.search').val()!="undefined"){search=jQuery(this).siblings('input.search').val();search=search.replace(/[^\w ]+/g,"");window.location.href="/"+jQuery(this).parent().attr('class')+"/"+search}else{search=jQuery('input.search').val();search=search.replace(/[^\w ]+/g,"");window.location.href="/"+jQuery(this).parent().attr('class')+"/"+search}});jQuery('.spellcheck .submit').click(function(e){e.preventDefault();var parentClass=jQuery(this).parent().attr('class'),childClass=jQuery('.'+parentClass+' input.search').val();childClass=childClass.replace(/[^\w ]+/g,"");window.location.href="/"+parentClass+"/"+childClass});jQuery('.brewers-dictionary .submit').click(function(e){e.preventDefault();var search=jQuery(this).siblings('input.search').val();search=search.replace("/"," ");search=search.replace(/[^\w ]+/g,"");window.location.href="/brewers/search/"+search.replace(" ","+")});jQuery('.biography-search .submit').click(function(e){e.preventDefault();var search=jQuery(this).siblings('input.search').val();search=search.replace("/"," ");search=search.replace(/[^\w ]+/g,"");window.location.href="/biography/search/"+search.replace(" ","+")});jQuery('.almanac-search .submit').click(function(e){e.preventDefault();var search=jQuery(this).siblings('input.search').val();search=search.replace("/"," ");search=search.replace(/[^\w ]+/g,"");window.location.href="/search/"+search.replace(" ","+")});jQuery('.homework-center-search .submit').click(function(e){e.preventDefault();var search=jQuery(this).siblings('input.search').val();search=search.replace("/"," ");search=search.replace(/[^\w ]+/g,"");var checked=jQuery('.homework-center-search input[type=radio]:checked').val();if(checked=="all")window.location.href="/search/"+search.replace(" ","+");if(checked=="biography")window.location.href="/biography/search/"+search.replace(" ","+")});jQuery('.day-in-history .submit, .today-birthday .submit').click(function(e){e.preventDefault();var day_val=jQuery(this).siblings("input[name=day]").val(),month_val=jQuery(this).siblings("select[name=month]").val();if(jQuery.isNumeric(day_val)){if(jQuery(this).parent('form').hasClass("day-in-history"))window.location.href="/dayinhistory/"+month_val+"-"+day_val;if(jQuery(this).parent('form').hasClass("today-birthday"))window.location.href="/birthday/"+month_val+"-"+day_val}});jQuery('.acramax-submit-button').click(function(e){var user_email=jQuery("#edit-user-email").val(),regex=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;if(regex.test(user_email)){e.preventDefault();e.stopImmediatePropagation();jQuery.ajax({method:'GET',url:'/arcamax-subcription-form',data:{user_email:user_email}});message='<p>Thank you for subscribing!</p> <p>*Confirm in your inbox to start.</p>';jQuery("#arcamax-newsletter-form").html(message)}});jQuery('.drop-down-icon').append('<span class="dropdwon-arrow"><span class="dd-arrow"></span></span>');if(jQuery(window).width()>=767)jQuery(".navbar-nav > li.dropdown").on('mouseenter mouseleave',function(e){if(e.type=='mouseleave'){jQuery('.navbar-nav > li.dropdown').removeClass('open')}else jQuery(this).addClass('open')});jQuery(".navbar-nav > li.dropdown a.drop-down-icon .dropdwon-arrow").on('click',function(e){e.preventDefault();jQuery(this).closest('li').toggleClass('open')});jQuery("#views-exposed-form-taxonomy-term-page-2 select, #views-exposed-form-category-view-page-1 select").on("change",function(e){e.preventDefault();document.location='/taxonomy/term/'+jQuery(this).val()})
function isMobile(){return(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))};jQuery("select.DDlinks").on("change",function(obj){var scroll='';if(isMobile()){scroll="scrollbar=1"}else scroll="scrollbar=0";jQuery.colorbox({title:"Preview",html:'<object width="900" height="600" data="'+jQuery(this).val()+'?#zoom=85&'+scroll+'&toolbar=0&navpanes=0"></object>',width:"900px",height:"600px"})});jQuery("body").on("click","#videoThumbs a, .video a",function(e){e.preventDefault();var alink=jQuery(this).attr("href");if(alink.indexOf("vidid")>0){var aData=alink.split('='),id="botr_"+aData[1]+"_dUzCcR7n_div";jQuery.colorbox({html:'<div id="'+id+'"></div>',height:window.innerWidth>1024?"500px":window.innerWidth>767?"450px":window.innerWidth>480?"303px":window.innerWidth>319?"217px":'95%',width:window.innerWidth>1024?"800px":window.innerWidth>767?"730px":window.innerWidth>480?"456px":window.innerWidth>319?"304px":'95%',maxWidth:'95%',onComplete:function(){jQuery('#'+id).after('<script src="//content.jwplatform.com/players/'+aData[1]+'-dUzCcR7n.js"></script>')}})}else window.location.href=alink})
function validateYear(val){return true}
function CheckDate(val){return true}
function jumpTo(id){id=id.indexOf('#')<0?'#'+id:id;var val=jQuery(id).val();if(val==''&&jQuery(id+' option:selected').length>0)val=jQuery(id).find(":selected").val();var url="#"+val;document.location=url}
function jumpToSport(id){id=id.indexOf('#')<0?'#'+id:id;var val=jQuery(id).val();if(val==''&&jQuery(id+' option:selected').length>0)val=jQuery(id).find(":selected").val();var url="#"+val;document.location=url};var clickFlag=0,html="",pathArray=[];jQuery('#cite').click(function(event){event.preventDefault();if(clickFlag==0){clickFlag=1;jQuery.ajax({async:true,url:'/citing-page',success:function(data){html=jQuery(data).find('.main-section');pathArray=window.location.pathname.split('/');var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];switch(pathArray[1]){case'encyclopedia':jQuery(html).find("copyright").text("The Columbia Electronic Encyclopedia.  1994, 2000-2006 on Infoplease.");jQuery(html).find("span.from-page-title").text('"'+jQuery('h1').text()+'." ');break;case'dictionary':jQuery(html).find("copyright").html("Random House Unabridged Dictionary. <br />  1997 by Random House, Inc., on Infoplease.");jQuery(html).find("span.from-page-title").text('"'+jQuery('#edit-word-search').val()+'." ');break;case'thesaurus':jQuery(html).find("copyright").html("WordNet 2.0.<br />  2003 by Princeton University on Infoplease.");jQuery(html).find("span.from-page-title").text('"'+jQuery('#edit-word-search').val()+'." ');break;case'askeds':if(drupalSettings.nodetype=='askeds'){jQuery(html).find("copyright").html("<br /> Ask the Editors. Infoplease");jQuery(html).find("span.from-page-title").text('"'+jQuery('div .question p').text()+'"')}else jQuery(html).find("span.from-page-title").text('"'+jQuery('h1').text()+'."');break;default:authorname=jQuery('h6').text();if(authorname&&drupalSettings.nodetype=='article'){authorname=authorname.replace(/by/gi,"");if(drupalSettings.authorname){jQuery(html).find("authorname").html(drupalSettings.authorname+" ")}else{jQuery(html).find("authorname").html(authorname);jQuery(html).find("span.from-page-title").text(' "'+jQuery('h1 span').text()+'."')}}else if(pathArray[1]==""){jQuery(html).find("span.from-page-title").text('"'+jQuery('title').text().split('|')[0]+'."')}else jQuery(html).find("span.from-page-title").text('"'+jQuery('h1 span').text()+'."')};jQuery(html).find("date").text(current_day+" "+months[current_month-1]+". "+current_year);jQuery(html).find("url").text(" <"+document.location.href+"/>.");jQuery.colorbox({height:"500px",width:"1000px",html:html})}})}else jQuery.colorbox({height:"500px",width:"1000px",html:html})});for(var year=2003;year<=2007;year++)jQuery("#moon2 select[name=chosenyear] option[value="+year+"]").each(function(){jQuery(this).remove()});jQuery('#moon2 input[type=submit]').click(function(e){e.preventDefault();var year_val=jQuery(this).siblings("select[name=chosenyear]").val(),month_val=jQuery("#moon2 select[name=chosenmonth]").val(),month_text='january';if(month_val)month_text=jQuery("#moon2 select[name=chosenmonth] option[value="+month_val+"]")[0].text.replace(/\s/g,'').toLowerCase();var url='/sun-moon-stars-'+month_text+'-'+year_val;window.location.href=url});jQuery('.path-video-archive .item-list ol li .views-field.views-field-field-video-id, .path-video-archive .item-list ol li .views-field.views-field-field-video').has('img').css('width','50px');jQuery('.path-video-archive .item-list ol li:first-child .views-field.views-field-field-video-id, .path-video-archive .item-list ol li:first-child .views-field.views-field-field-video').has('img').css('width','100%');jQuery('#enc_search_button').click(function(e){e.preventDefault();var search=jQuery("#enc_search_text_field").val();search=search.replace("/"," ");search=search.replace(/[^\w ]+/g,"");search=search.replace(" ","+");window.location.href="/search/encyclopedia/"+search});jQuery('#search-api-page-block-form #edit-actions').click(function(e){e.preventDefault();var search=jQuery("#edit-keys").val();search=search.replace("/"," ");search=search.replace(/[^\w ]+/g,"");search=search.replace(" ","+");window.location.href="/brewers/search/"+search});jQuery('#enc_search_text_field').keypress(function(event){if(event.which==13){var search=jQuery(this).val();search=search.replace("/"," ");search=search.replace(/[^\w ]+/g,"");search=search.replace(" ","+");window.location.href="/search/encyclopedia/"+search}});jQuery('#search-api-page-block-form #edit-keys').keypress(function(event){if(event.which==13){var search=jQuery(this).val();search=search.replace("/"," ");search=search.replace(/[^\w ]+/g,"");search=search.replace(" ","+");window.location.href="/brewers/search/"+search}});document.addEventListener("DOMContentLoaded",function(event){function makePlayer(){var container=document.getElementById('ip-bolt-container');if(typeof container!=="undefined"&&container!==null){var script=document.createElement('script'),container_data_config=container.getAttribute('data-config'),container_data_src=container.getAttribute('data-src');console.log(container_data_src);console.log(container_data_config);script.src=container_data_src;script.type='text/javascript';script.setAttribute('charset','utf-8');script.setAttribute('data-config',container_data_config);script.setAttribute('data-width','100%');script.setAttribute('data-height','100%');script.setAttribute('data-id','my_player');script.setAttribute('data-onready','bolt_content_started');container.appendChild(script)}};makePlayer()})
function fixedSidebar(){if(!jQuery('.right-sidebar-first-block').length){jQuery('#block-ipabovethefold, #block-sidebarvideoplayer').wrapAll('<section class="right-sidebar-first-block"><div></div></section>');jQuery('#block-ipmiddlewaread').wrapAll('<section id="fixed-block-ipmiddlewaread"></section>')};var scrollBlock1=jQuery('.right-sidebar-first-block'),scrollBlock2=jQuery('#fixed-block-ipmiddlewaread'),footerBlock=jQuery('.page-content-bottom'),footerDistance=footerBlock.offset().top,adunit_height=jQuery('#block-ipmiddlewaread').outerHeight(true);jQuery(window).scroll(function(){var ad_distance=0;if(scrollBlock2.find('> div').hasClass('reachedbottom')==false)ad_distance=jQuery('#block-ipmiddlewaread').offset().top+adunit_height-jQuery('.page-content-bottom').offset().top;if(parseInt(ad_distance)>-280){if(scrollBlock2.find('> div').hasClass('stickysidebar'))scrollBlock2.find('> div').addClass('reachedbottom').removeClass('stickysidebar notsticky')}else scrollBlock2.find('> div').addClass('stickysidebar').removeClass('notsticky reachedbottom');if(jQuery(window).scrollTop()+scrollBlock2.find('> div').height()+115>=footerDistance-20){scrollBlock1.find('> div').addClass('notsticky').removeClass('reachedbottom stickysidebar')}else if(jQuery(window).scrollTop()>=scrollBlock2.offset().top-115){scrollBlock1.find('> div').addClass('notsticky').removeClass('reachedbottom stickysidebar')}else if(jQuery(window).scrollTop()>1e3){scrollBlock2.find('> div').addClass('stickysidebar').removeClass('notsticky reachedbottom')}else{scrollBlock1.find('> div').addClass('notsticky').removeClass('reachedbottom stickysidebar');scrollBlock2.find('> div').addClass('notsticky').removeClass('reachedbottom stickysidebar')}})};if(isMobile())jQuery('main.row').addClass('add-mobile-margin');window.onscroll=function(){checkScroll()}
function checkScroll(){var isDockedPresent=document.getElementsByClassName('is-docked');if(document.documentElement.scrollTop>66&&isDockedPresent.length>0){document.querySelector(".is-docked").style.marginTop="0px";jQuery('.pw-close-btn-top').addClass('pw-close-btn-top-scroll')}else{if(jQuery('.is-docked').length)document.querySelector(".is-docked").style.marginTop="66px";if(jQuery('.pw-close-btn-top').hasClass('pw-close-btn-top-scroll'))jQuery('.pw-close-btn-top').removeClass('pw-close-btn-top-scroll')}};
